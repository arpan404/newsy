{"ast":null,"code":"var _jsxFileName = \"/Users/arpanbhandari/Documents/cod-ing/React/newsapp/src/components/search.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport NewsCard from \"./newsCard\";\nimport \"./news.css\";\nimport Spinner from \"./spinner\";\nimport PropTypes from \"prop-types\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Search(props) {\n  _s();\n\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState('true');\n  const [page, setPage] = useState(1);\n  const [totalResults, setTotalResults] = useState(0);\n\n  const updateNews = async () => {\n    setLoading('true');\n    let url = `https://newsapi.org/v2/top-headlines?q=${page}&sortBy=publishedAt&apiKey=b78e87013150454abec15a569230b581&pageSize=${this.props.pageSize}&page=${this.state.page}`;\n    let data = await fetch(url);\n    let parsedData = await data.json();\n    setLoading('false');\n    setArticles(parsedData.articles);\n    setTotalResults(parsedData.totalResults);\n  };\n\n  useEffect(() => {\n    setLoading('true');\n    let url = `https://newsapi.org/v2/top-headlines?q=${page}&sortBy=publishedAt&apiKey=b78e87013150454abec15a569230b581&pageSize=${this.props.pageSize}&page=1`;\n    let data = fetch(url);\n    let parsedData = data.json();\n    setLoading('false');\n    setArticles(parsedData.articles);\n    setTotalResults(parsedData.totalResults);\n  });\n\n  const loadNext = async () => {\n    setPage(page + 1);\n    updateNews();\n  };\n\n  const loadPrevious = async () => {\n    setPage(page - 1);\n    updateNews();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-left mx-2\",\n      children: /*#__PURE__*/_jsxDEV(\"small\", {\n        style: {\n          color: \"grey\"\n        },\n        children: \"Newsy > Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news_screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"news_container\",\n        children: !loading && articles.map(element => {\n          return /*#__PURE__*/_jsxDEV(NewsCard, {\n            title: element.title,\n            description: element.description,\n            imgSrc: element.urlToImage,\n            newsUrl: element.url,\n            source: element.source.name,\n            author: element.author,\n            publishedDate: element.publishedAt\n          }, element.url, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-container\",\n      style: {\n        justifyContent: page === 1 ? \"flex-end\" : \"\",\n        display: loading ? \"none\" : \"\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-info\",\n        style: {\n          display: page === 1 ? \"none\" : \"\"\n        },\n        onClick: loadPrevious,\n        children: \"\\u2190Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-info\",\n        style: {\n          display: page * 15 >= totalResults || props.pageSize * page >= 90 ? \"none\" : \"\"\n        },\n        onClick: loadNext,\n        children: \"Next\\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Search, \"en2w1FsTnfOaVkQojS1/Yqc4h/4=\");\n\n_c = Search;\nSearch.defaultProps = {\n  pageSize: 15\n};\nSearch.PropTypes = {\n  pageSize: PropTypes.number\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","NewsCard","Spinner","PropTypes","useState","useEffect","Search","props","articles","setArticles","loading","setLoading","page","setPage","totalResults","setTotalResults","updateNews","url","pageSize","state","data","fetch","parsedData","json","loadNext","loadPrevious","color","map","element","title","description","urlToImage","source","name","author","publishedAt","justifyContent","display","defaultProps","number"],"sources":["/Users/arpanbhandari/Documents/cod-ing/React/newsapp/src/components/search.js"],"sourcesContent":["import React from \"react\";\nimport NewsCard from \"./newsCard\";\nimport \"./news.css\";\nimport Spinner from \"./spinner\";\nimport PropTypes from \"prop-types\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\n\n\nexport default function Search(props){\n const[articles, setArticles] =useState([]);\n const[loading, setLoading]=useState('true');\n const[page, setPage]= useState(1);\n const[totalResults , setTotalResults] = useState(0);\n  \n const updateNews= async() => {\n    setLoading('true');\n    let url = `https://newsapi.org/v2/top-headlines?q=${page}&sortBy=publishedAt&apiKey=b78e87013150454abec15a569230b581&pageSize=${this.props.pageSize}&page=${this.state.page}`;\n    let data = await fetch(url);\n    let parsedData = await data.json();\n    setLoading('false');\n    setArticles(parsedData.articles);\n    setTotalResults(parsedData.totalResults);\n   \n  }\n   useEffect(()=> {\n    setLoading('true');\n    let url = `https://newsapi.org/v2/top-headlines?q=${page}&sortBy=publishedAt&apiKey=b78e87013150454abec15a569230b581&pageSize=${this.props.pageSize}&page=1`;\n    let data =  fetch(url);\n    let parsedData = data.json();\n    setLoading('false');\n    setArticles(parsedData.articles);\n    setTotalResults(parsedData.totalResults);\n    \n   });\n\n  const loadNext = async () => {\n    setPage(page+1);\n    updateNews();\n  };\n  const loadPrevious = async () => {\n    setPage(page-1);\n    updateNews();\n  };\n \n    return (\n      <>\n        <div className=\"text-left mx-2\">\n          <small style={{ color: \"grey\" }}>Newsy &#62; Search</small>\n        </div>\n        <div className=\"news_screen\">\n          <div className=\"news_container\">\n            {!loading &&\n              articles.map((element) => {\n                return (\n                  <NewsCard\n                    title={element.title}\n                    description={element.description}\n                    imgSrc={element.urlToImage}\n                    key={element.url}\n                    newsUrl={element.url}\n                    source={element.source.name}\n                    author={element.author}\n                    publishedDate={element.publishedAt}\n                  />\n                );\n              })}\n          </div>\n        </div>\n        {loading && <Spinner />}\n        <div\n          className=\"btn-container\"\n          style={{\n            justifyContent: page === 1 ? \"flex-end\" : \"\",\n            display: loading ? \"none\" : \"\",\n          }}\n        >\n          <button\n            type=\"button\"\n            className=\"btn btn-info\"\n            style={{ display: page === 1 ? \"none\" : \"\" }}\n            onClick={loadPrevious}\n          >\n            &#8592;Previous\n          </button>\n          <button\n            type=\"button\"\n            className=\"btn btn-info\"\n            style={{\n              display:\n                page * 15 >= totalResults ||\n                props.pageSize * page >= 90\n                  ? \"none\"\n                  : \"\",\n            }}\n            onClick={loadNext}\n          >\n            Next&#8594;\n          </button>\n        </div>\n      </>\n    );\n  \n}\nSearch.defaultProps ={\n  pageSize: 15\n}\nSearch.PropTypes = {\n  pageSize: PropTypes.number\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}