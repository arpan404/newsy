{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst fs = require(\"fs\");\n\nconst path = require(\"path\");\n\nconst Template = require(\"../Template\");\n\nconst {\n  cleverMerge\n} = require(\"../util/cleverMerge\");\n\nconst {\n  getTargetsProperties,\n  getTargetProperties,\n  getDefaultTarget\n} = require(\"./target\");\n/** @typedef {import(\"../../declarations/WebpackOptions\").CacheOptionsNormalized} CacheOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").CssExperimentOptions} CssExperimentOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryDescription} EntryDescription */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryNormalized} Entry */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Experiments} Experiments */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExperimentsNormalized} ExperimentsNormalized */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsPresets} ExternalsPresets */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsType} ExternalsType */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").InfrastructureLogging} InfrastructureLogging */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").JavascriptParserOptions} JavascriptParserOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Library} Library */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryName} LibraryName */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryOptions} LibraryOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Loader} Loader */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Mode} Mode */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ModuleOptionsNormalized} ModuleOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Node} WebpackNode */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Optimization} Optimization */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").OutputNormalized} Output */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Performance} Performance */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").ResolveOptions} ResolveOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").RuleSetRules} RuleSetRules */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").SnapshotOptions} SnapshotOptions */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").Target} Target */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\n\n/** @typedef {import(\"./target\").TargetProperties} TargetProperties */\n\n\nconst NODE_MODULES_REGEXP = /[\\\\/]node_modules[\\\\/]/i;\n/**\n * Sets a constant default value when undefined\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {T[P]} value a default value of the property\n * @returns {void}\n */\n\nconst D = (obj, prop, value) => {\n  if (obj[prop] === undefined) {\n    obj[prop] = value;\n  }\n};\n/**\n * Sets a dynamic default value when undefined, by calling the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\n\n\nconst F = (obj, prop, factory) => {\n  if (obj[prop] === undefined) {\n    obj[prop] = factory();\n  }\n};\n/**\n * Sets a dynamic default value when undefined, by calling the factory function.\n * factory must return an array or undefined\n * When the current value is already an array an contains \"...\" it's replaced with\n * the result of the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\n\n\nconst A = (obj, prop, factory) => {\n  const value = obj[prop];\n\n  if (value === undefined) {\n    obj[prop] = factory();\n  } else if (Array.isArray(value)) {\n    /** @type {any[]} */\n    let newArray = undefined;\n\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n\n      if (item === \"...\") {\n        if (newArray === undefined) {\n          newArray = value.slice(0, i);\n          obj[prop] =\n          /** @type {T[P]} */\n\n          /** @type {unknown} */\n          newArray;\n        }\n\n        const items =\n        /** @type {any[]} */\n\n        /** @type {unknown} */\n        factory();\n\n        if (items !== undefined) {\n          for (const item of items) {\n            newArray.push(item);\n          }\n        }\n      } else if (newArray !== undefined) {\n        newArray.push(item);\n      }\n    }\n  }\n};\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\n\n\nconst applyWebpackOptionsBaseDefaults = options => {\n  F(options, \"context\", () => process.cwd());\n  applyInfrastructureLoggingDefaults(options.infrastructureLogging);\n};\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\n\n\nconst applyWebpackOptionsDefaults = options => {\n  F(options, \"context\", () => process.cwd());\n  F(options, \"target\", () => {\n    return getDefaultTarget(options.context);\n  });\n  const {\n    mode,\n    name,\n    target\n  } = options;\n  let targetProperties = target === false ?\n  /** @type {false} */\n  false : typeof target === \"string\" ? getTargetProperties(target, options.context) : getTargetsProperties(target, options.context);\n  const development = mode === \"development\";\n  const production = mode === \"production\" || !mode;\n\n  if (typeof options.entry !== \"function\") {\n    for (const key of Object.keys(options.entry)) {\n      F(options.entry[key], \"import\", () =>\n      /** @type {[string]} */\n      [\"./src\"]);\n    }\n  }\n\n  F(options, \"devtool\", () => development ? \"eval\" : false);\n  D(options, \"watch\", false);\n  D(options, \"profile\", false);\n  D(options, \"parallelism\", 100);\n  D(options, \"recordsInputPath\", false);\n  D(options, \"recordsOutputPath\", false);\n  applyExperimentsDefaults(options.experiments, {\n    production,\n    development,\n    targetProperties\n  });\n  const futureDefaults = options.experiments.futureDefaults;\n  F(options, \"cache\", () => development ? {\n    type:\n    /** @type {\"memory\"} */\n    \"memory\"\n  } : false);\n  applyCacheDefaults(options.cache, {\n    name: name || \"default\",\n    mode: mode || \"production\",\n    development,\n    cacheUnaffected: options.experiments.cacheUnaffected\n  });\n  const cache = !!options.cache;\n  applySnapshotDefaults(options.snapshot, {\n    production,\n    futureDefaults\n  });\n  applyModuleDefaults(options.module, {\n    cache,\n    syncWebAssembly: options.experiments.syncWebAssembly,\n    asyncWebAssembly: options.experiments.asyncWebAssembly,\n    css: options.experiments.css,\n    futureDefaults,\n    isNode: targetProperties && targetProperties.node === true\n  });\n  applyOutputDefaults(options.output, {\n    context: options.context,\n    targetProperties,\n    isAffectedByBrowserslist: target === undefined || typeof target === \"string\" && target.startsWith(\"browserslist\") || Array.isArray(target) && target.some(target => target.startsWith(\"browserslist\")),\n    outputModule: options.experiments.outputModule,\n    development,\n    entry: options.entry,\n    module: options.module,\n    futureDefaults\n  });\n  applyExternalsPresetsDefaults(options.externalsPresets, {\n    targetProperties,\n    buildHttp: !!options.experiments.buildHttp\n  });\n  applyLoaderDefaults(options.loader, {\n    targetProperties\n  });\n  F(options, \"externalsType\", () => {\n    const validExternalTypes = require(\"../../schemas/WebpackOptions.json\").definitions.ExternalsType.enum;\n\n    return options.output.library && validExternalTypes.includes(options.output.library.type) ?\n    /** @type {ExternalsType} */\n    options.output.library.type : options.output.module ? \"module\" : \"var\";\n  });\n  applyNodeDefaults(options.node, {\n    futureDefaults: options.experiments.futureDefaults,\n    targetProperties\n  });\n  F(options, \"performance\", () => production && targetProperties && (targetProperties.browser || targetProperties.browser === null) ? {} : false);\n  applyPerformanceDefaults(options.performance, {\n    production\n  });\n  applyOptimizationDefaults(options.optimization, {\n    development,\n    production,\n    css: options.experiments.css,\n    records: !!(options.recordsInputPath || options.recordsOutputPath)\n  });\n  options.resolve = cleverMerge(getResolveDefaults({\n    cache,\n    context: options.context,\n    targetProperties,\n    mode: options.mode\n  }), options.resolve);\n  options.resolveLoader = cleverMerge(getResolveLoaderDefaults({\n    cache\n  }), options.resolveLoader);\n};\n/**\n * @param {ExperimentsNormalized} experiments options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development mode\n * @param {TargetProperties | false} options.targetProperties target properties\n * @returns {void}\n */\n\n\nconst applyExperimentsDefaults = (experiments, _ref) => {\n  let {\n    production,\n    development,\n    targetProperties\n  } = _ref;\n  D(experiments, \"futureDefaults\", false);\n  D(experiments, \"backCompat\", !experiments.futureDefaults);\n  D(experiments, \"topLevelAwait\", experiments.futureDefaults);\n  D(experiments, \"syncWebAssembly\", false);\n  D(experiments, \"asyncWebAssembly\", experiments.futureDefaults);\n  D(experiments, \"outputModule\", false);\n  D(experiments, \"layers\", false);\n  D(experiments, \"lazyCompilation\", undefined);\n  D(experiments, \"buildHttp\", undefined);\n  D(experiments, \"cacheUnaffected\", experiments.futureDefaults);\n  F(experiments, \"css\", () => experiments.futureDefaults ? {} : undefined);\n\n  if (typeof experiments.buildHttp === \"object\") {\n    D(experiments.buildHttp, \"frozen\", production);\n    D(experiments.buildHttp, \"upgrade\", false);\n  }\n\n  if (typeof experiments.css === \"object\") {\n    D(experiments.css, \"exportsOnly\", !targetProperties || !targetProperties.document);\n  }\n};\n/**\n * @param {CacheOptions} cache options\n * @param {Object} options options\n * @param {string} options.name name\n * @param {string} options.mode mode\n * @param {boolean} options.development is development mode\n * @param {boolean} options.cacheUnaffected the cacheUnaffected experiment is enabled\n * @returns {void}\n */\n\n\nconst applyCacheDefaults = (cache, _ref2) => {\n  let {\n    name,\n    mode,\n    development,\n    cacheUnaffected\n  } = _ref2;\n  if (cache === false) return;\n\n  switch (cache.type) {\n    case \"filesystem\":\n      F(cache, \"name\", () => name + \"-\" + mode);\n      D(cache, \"version\", \"\");\n      F(cache, \"cacheDirectory\", () => {\n        const cwd = process.cwd();\n        let dir = cwd;\n\n        for (;;) {\n          try {\n            if (fs.statSync(path.join(dir, \"package.json\")).isFile()) break; // eslint-disable-next-line no-empty\n          } catch (e) {}\n\n          const parent = path.dirname(dir);\n\n          if (dir === parent) {\n            dir = undefined;\n            break;\n          }\n\n          dir = parent;\n        }\n\n        if (!dir) {\n          return path.resolve(cwd, \".cache/webpack\");\n        } else if (process.versions.pnp === \"1\") {\n          return path.resolve(dir, \".pnp/.cache/webpack\");\n        } else if (process.versions.pnp === \"3\") {\n          return path.resolve(dir, \".yarn/.cache/webpack\");\n        } else {\n          return path.resolve(dir, \"node_modules/.cache/webpack\");\n        }\n      });\n      F(cache, \"cacheLocation\", () => path.resolve(cache.cacheDirectory, cache.name));\n      D(cache, \"hashAlgorithm\", \"md4\");\n      D(cache, \"store\", \"pack\");\n      D(cache, \"compression\", false);\n      D(cache, \"profile\", false);\n      D(cache, \"idleTimeout\", 60000);\n      D(cache, \"idleTimeoutForInitialStore\", 5000);\n      D(cache, \"idleTimeoutAfterLargeChanges\", 1000);\n      D(cache, \"maxMemoryGenerations\", development ? 5 : Infinity);\n      D(cache, \"maxAge\", 1000 * 60 * 60 * 24 * 60); // 1 month\n\n      D(cache, \"allowCollectingMemory\", development);\n      D(cache, \"memoryCacheUnaffected\", development && cacheUnaffected);\n      D(cache.buildDependencies, \"defaultWebpack\", [path.resolve(__dirname, \"..\") + path.sep]);\n      break;\n\n    case \"memory\":\n      D(cache, \"maxGenerations\", Infinity);\n      D(cache, \"cacheUnaffected\", development && cacheUnaffected);\n      break;\n  }\n};\n/**\n * @param {SnapshotOptions} snapshot options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\n\n\nconst applySnapshotDefaults = (snapshot, _ref3) => {\n  let {\n    production,\n    futureDefaults\n  } = _ref3;\n\n  if (futureDefaults) {\n    F(snapshot, \"managedPaths\", () => process.versions.pnp === \"3\" ? [/^(.+?(?:[\\\\/]\\.yarn[\\\\/]unplugged[\\\\/][^\\\\/]+)?[\\\\/]node_modules[\\\\/])/] : [/^(.+?[\\\\/]node_modules[\\\\/])/]);\n    F(snapshot, \"immutablePaths\", () => process.versions.pnp === \"3\" ? [/^(.+?[\\\\/]cache[\\\\/][^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/])/] : []);\n  } else {\n    A(snapshot, \"managedPaths\", () => {\n      if (process.versions.pnp === \"3\") {\n        const match = /^(.+?)[\\\\/]cache[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [path.resolve(match[1], \"unplugged\")];\n        }\n      } else {\n        const match = /^(.+?[\\\\/]node_modules[\\\\/])/.exec( // eslint-disable-next-line node/no-extraneous-require\n        require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [match[1]];\n        }\n      }\n\n      return [];\n    });\n    A(snapshot, \"immutablePaths\", () => {\n      if (process.versions.pnp === \"1\") {\n        const match = /^(.+?[\\\\/]v4)[\\\\/]npm-watchpack-[^\\\\/]+-[\\da-f]{40}[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [match[1]];\n        }\n      } else if (process.versions.pnp === \"3\") {\n        const match = /^(.+?)[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n\n        if (match) {\n          return [match[1]];\n        }\n      }\n\n      return [];\n    });\n  }\n\n  F(snapshot, \"resolveBuildDependencies\", () => ({\n    timestamp: true,\n    hash: true\n  }));\n  F(snapshot, \"buildDependencies\", () => ({\n    timestamp: true,\n    hash: true\n  }));\n  F(snapshot, \"module\", () => production ? {\n    timestamp: true,\n    hash: true\n  } : {\n    timestamp: true\n  });\n  F(snapshot, \"resolve\", () => production ? {\n    timestamp: true,\n    hash: true\n  } : {\n    timestamp: true\n  });\n};\n/**\n * @param {JavascriptParserOptions} parserOptions parser options\n * @param {Object} options options\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @param {boolean} options.isNode is node target platform\n * @returns {void}\n */\n\n\nconst applyJavascriptParserOptionsDefaults = (parserOptions, _ref4) => {\n  let {\n    futureDefaults,\n    isNode\n  } = _ref4;\n  D(parserOptions, \"unknownContextRequest\", \".\");\n  D(parserOptions, \"unknownContextRegExp\", false);\n  D(parserOptions, \"unknownContextRecursive\", true);\n  D(parserOptions, \"unknownContextCritical\", true);\n  D(parserOptions, \"exprContextRequest\", \".\");\n  D(parserOptions, \"exprContextRegExp\", false);\n  D(parserOptions, \"exprContextRecursive\", true);\n  D(parserOptions, \"exprContextCritical\", true);\n  D(parserOptions, \"wrappedContextRegExp\", /.*/);\n  D(parserOptions, \"wrappedContextRecursive\", true);\n  D(parserOptions, \"wrappedContextCritical\", false);\n  D(parserOptions, \"strictThisContextOnImports\", false);\n  D(parserOptions, \"importMeta\", true);\n  D(parserOptions, \"dynamicImportMode\", \"lazy\");\n  D(parserOptions, \"dynamicImportPrefetch\", false);\n  D(parserOptions, \"dynamicImportPreload\", false);\n  D(parserOptions, \"createRequire\", isNode);\n  if (futureDefaults) D(parserOptions, \"exportsPresence\", \"error\");\n};\n/**\n * @param {ModuleOptions} module options\n * @param {Object} options options\n * @param {boolean} options.cache is caching enabled\n * @param {boolean} options.syncWebAssembly is syncWebAssembly enabled\n * @param {boolean} options.asyncWebAssembly is asyncWebAssembly enabled\n * @param {CssExperimentOptions} options.css is css enabled\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @param {boolean} options.isNode is node target platform\n * @returns {void}\n */\n\n\nconst applyModuleDefaults = (module, _ref5) => {\n  let {\n    cache,\n    syncWebAssembly,\n    asyncWebAssembly,\n    css,\n    futureDefaults,\n    isNode\n  } = _ref5;\n\n  if (cache) {\n    D(module, \"unsafeCache\", module => {\n      const name = module.nameForCondition();\n      return name && NODE_MODULES_REGEXP.test(name);\n    });\n  } else {\n    D(module, \"unsafeCache\", false);\n  }\n\n  F(module.parser, \"asset\", () => ({}));\n  F(module.parser.asset, \"dataUrlCondition\", () => ({}));\n\n  if (typeof module.parser.asset.dataUrlCondition === \"object\") {\n    D(module.parser.asset.dataUrlCondition, \"maxSize\", 8096);\n  }\n\n  F(module.parser, \"javascript\", () => ({}));\n  applyJavascriptParserOptionsDefaults(module.parser.javascript, {\n    futureDefaults,\n    isNode\n  });\n  A(module, \"defaultRules\", () => {\n    const esm = {\n      type: \"javascript/esm\",\n      resolve: {\n        byDependency: {\n          esm: {\n            fullySpecified: true\n          }\n        }\n      }\n    };\n    const commonjs = {\n      type: \"javascript/dynamic\"\n    };\n    /** @type {RuleSetRules} */\n\n    const rules = [{\n      mimetype: \"application/node\",\n      type: \"javascript/auto\"\n    }, {\n      test: /\\.json$/i,\n      type: \"json\"\n    }, {\n      mimetype: \"application/json\",\n      type: \"json\"\n    }, {\n      test: /\\.mjs$/i,\n      ...esm\n    }, {\n      test: /\\.js$/i,\n      descriptionData: {\n        type: \"module\"\n      },\n      ...esm\n    }, {\n      test: /\\.cjs$/i,\n      ...commonjs\n    }, {\n      test: /\\.js$/i,\n      descriptionData: {\n        type: \"commonjs\"\n      },\n      ...commonjs\n    }, {\n      mimetype: {\n        or: [\"text/javascript\", \"application/javascript\"]\n      },\n      ...esm\n    }];\n\n    if (asyncWebAssembly) {\n      const wasm = {\n        type: \"webassembly/async\",\n        rules: [{\n          descriptionData: {\n            type: \"module\"\n          },\n          resolve: {\n            fullySpecified: true\n          }\n        }]\n      };\n      rules.push({\n        test: /\\.wasm$/i,\n        ...wasm\n      });\n      rules.push({\n        mimetype: \"application/wasm\",\n        ...wasm\n      });\n    } else if (syncWebAssembly) {\n      const wasm = {\n        type: \"webassembly/sync\",\n        rules: [{\n          descriptionData: {\n            type: \"module\"\n          },\n          resolve: {\n            fullySpecified: true\n          }\n        }]\n      };\n      rules.push({\n        test: /\\.wasm$/i,\n        ...wasm\n      });\n      rules.push({\n        mimetype: \"application/wasm\",\n        ...wasm\n      });\n    }\n\n    if (css) {\n      const cssRule = {\n        type: \"css\",\n        resolve: {\n          fullySpecified: true,\n          preferRelative: true\n        }\n      };\n      const cssModulesRule = {\n        type: \"css/module\",\n        resolve: {\n          fullySpecified: true\n        }\n      };\n      rules.push({\n        test: /\\.css$/i,\n        oneOf: [{\n          test: /\\.module\\.css$/i,\n          ...cssModulesRule\n        }, { ...cssRule\n        }]\n      });\n      rules.push({\n        mimetype: \"text/css+module\",\n        ...cssModulesRule\n      });\n      rules.push({\n        mimetype: \"text/css\",\n        ...cssRule\n      });\n    }\n\n    rules.push({\n      dependency: \"url\",\n      oneOf: [{\n        scheme: /^data$/,\n        type: \"asset/inline\"\n      }, {\n        type: \"asset/resource\"\n      }]\n    }, {\n      assert: {\n        type: \"json\"\n      },\n      type: \"json\"\n    });\n    return rules;\n  });\n};\n/**\n * @param {Output} output options\n * @param {Object} options options\n * @param {string} options.context context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.isAffectedByBrowserslist is affected by browserslist\n * @param {boolean} options.outputModule is outputModule experiment enabled\n * @param {boolean} options.development is development mode\n * @param {Entry} options.entry entry option\n * @param {ModuleOptions} options.module module option\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\n\n\nconst applyOutputDefaults = (output, _ref6) => {\n  let {\n    context,\n    targetProperties: tp,\n    isAffectedByBrowserslist,\n    outputModule,\n    development,\n    entry,\n    module,\n    futureDefaults\n  } = _ref6;\n\n  /**\n   * @param {Library=} library the library option\n   * @returns {string} a readable library name\n   */\n  const getLibraryName = library => {\n    const libraryName = typeof library === \"object\" && library && !Array.isArray(library) && \"type\" in library ? library.name :\n    /** @type {LibraryName=} */\n    library;\n\n    if (Array.isArray(libraryName)) {\n      return libraryName.join(\".\");\n    } else if (typeof libraryName === \"object\") {\n      return getLibraryName(libraryName.root);\n    } else if (typeof libraryName === \"string\") {\n      return libraryName;\n    }\n\n    return \"\";\n  };\n\n  F(output, \"uniqueName\", () => {\n    const libraryName = getLibraryName(output.library).replace(/^\\[(\\\\*[\\w:]+\\\\*)\\](\\.)|(\\.)\\[(\\\\*[\\w:]+\\\\*)\\](?=\\.|$)|\\[(\\\\*[\\w:]+\\\\*)\\]/g, (m, a, d1, d2, b, c) => {\n      const content = a || b || c;\n      return content.startsWith(\"\\\\\") && content.endsWith(\"\\\\\") ? `${d2 || \"\"}[${content.slice(1, -1)}]${d1 || \"\"}` : \"\";\n    });\n    if (libraryName) return libraryName;\n    const pkgPath = path.resolve(context, \"package.json\");\n\n    try {\n      const packageInfo = JSON.parse(fs.readFileSync(pkgPath, \"utf-8\"));\n      return packageInfo.name || \"\";\n    } catch (e) {\n      if (e.code !== \"ENOENT\") {\n        e.message += `\\nwhile determining default 'output.uniqueName' from 'name' in ${pkgPath}`;\n        throw e;\n      }\n\n      return \"\";\n    }\n  });\n  F(output, \"module\", () => !!outputModule);\n  D(output, \"filename\", output.module ? \"[name].mjs\" : \"[name].js\");\n  F(output, \"iife\", () => !output.module);\n  D(output, \"importFunctionName\", \"import\");\n  D(output, \"importMetaName\", \"import.meta\");\n  F(output, \"chunkFilename\", () => {\n    const filename = output.filename;\n\n    if (typeof filename !== \"function\") {\n      const hasName = filename.includes(\"[name]\");\n      const hasId = filename.includes(\"[id]\");\n      const hasChunkHash = filename.includes(\"[chunkhash]\");\n      const hasContentHash = filename.includes(\"[contenthash]\"); // Anything changing depending on chunk is fine\n\n      if (hasChunkHash || hasContentHash || hasName || hasId) return filename; // Otherwise prefix \"[id].\" in front of the basename to make it changing\n\n      return filename.replace(/(^|\\/)([^/]*(?:\\?|$))/, \"$1[id].$2\");\n    }\n\n    return output.module ? \"[id].mjs\" : \"[id].js\";\n  });\n  F(output, \"cssFilename\", () => {\n    const filename = output.filename;\n\n    if (typeof filename !== \"function\") {\n      return filename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n    }\n\n    return \"[id].css\";\n  });\n  F(output, \"cssChunkFilename\", () => {\n    const chunkFilename = output.chunkFilename;\n\n    if (typeof chunkFilename !== \"function\") {\n      return chunkFilename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n    }\n\n    return \"[id].css\";\n  });\n  D(output, \"assetModuleFilename\", \"[hash][ext][query]\");\n  D(output, \"webassemblyModuleFilename\", \"[hash].module.wasm\");\n  D(output, \"compareBeforeEmit\", true);\n  D(output, \"charset\", true);\n  F(output, \"hotUpdateGlobal\", () => Template.toIdentifier(\"webpackHotUpdate\" + Template.toIdentifier(output.uniqueName)));\n  F(output, \"chunkLoadingGlobal\", () => Template.toIdentifier(\"webpackChunk\" + Template.toIdentifier(output.uniqueName)));\n  F(output, \"globalObject\", () => {\n    if (tp) {\n      if (tp.global) return \"global\";\n      if (tp.globalThis) return \"globalThis\";\n    }\n\n    return \"self\";\n  });\n  F(output, \"chunkFormat\", () => {\n    if (tp) {\n      const helpMessage = isAffectedByBrowserslist ? \"Make sure that your 'browserslist' includes only platforms that support these features or select an appropriate 'target' to allow selecting a chunk format by default. Alternatively specify the 'output.chunkFormat' directly.\" : \"Select an appropriate 'target' to allow selecting one by default, or specify the 'output.chunkFormat' directly.\";\n\n      if (output.module) {\n        if (tp.dynamicImport) return \"module\";\n        if (tp.document) return \"array-push\";\n        throw new Error(\"For the selected environment is no default ESM chunk format available:\\n\" + \"ESM exports can be chosen when 'import()' is available.\\n\" + \"JSONP Array push can be chosen when 'document' is available.\\n\" + helpMessage);\n      } else {\n        if (tp.document) return \"array-push\";\n        if (tp.require) return \"commonjs\";\n        if (tp.nodeBuiltins) return \"commonjs\";\n        if (tp.importScripts) return \"array-push\";\n        throw new Error(\"For the selected environment is no default script chunk format available:\\n\" + \"JSONP Array push can be chosen when 'document' or 'importScripts' is available.\\n\" + \"CommonJs exports can be chosen when 'require' or node builtins are available.\\n\" + helpMessage);\n      }\n    }\n\n    throw new Error(\"Chunk format can't be selected by default when no target is specified\");\n  });\n  D(output, \"asyncChunks\", true);\n  F(output, \"chunkLoading\", () => {\n    if (tp) {\n      switch (output.chunkFormat) {\n        case \"array-push\":\n          if (tp.document) return \"jsonp\";\n          if (tp.importScripts) return \"import-scripts\";\n          break;\n\n        case \"commonjs\":\n          if (tp.require) return \"require\";\n          if (tp.nodeBuiltins) return \"async-node\";\n          break;\n\n        case \"module\":\n          if (tp.dynamicImport) return \"import\";\n          break;\n      }\n\n      if (tp.require === null || tp.nodeBuiltins === null || tp.document === null || tp.importScripts === null) {\n        return \"universal\";\n      }\n    }\n\n    return false;\n  });\n  F(output, \"workerChunkLoading\", () => {\n    if (tp) {\n      switch (output.chunkFormat) {\n        case \"array-push\":\n          if (tp.importScriptsInWorker) return \"import-scripts\";\n          break;\n\n        case \"commonjs\":\n          if (tp.require) return \"require\";\n          if (tp.nodeBuiltins) return \"async-node\";\n          break;\n\n        case \"module\":\n          if (tp.dynamicImportInWorker) return \"import\";\n          break;\n      }\n\n      if (tp.require === null || tp.nodeBuiltins === null || tp.importScriptsInWorker === null) {\n        return \"universal\";\n      }\n    }\n\n    return false;\n  });\n  F(output, \"wasmLoading\", () => {\n    if (tp) {\n      if (tp.fetchWasm) return \"fetch\";\n      if (tp.nodeBuiltins) return output.module ? \"async-node-module\" : \"async-node\";\n\n      if (tp.nodeBuiltins === null || tp.fetchWasm === null) {\n        return \"universal\";\n      }\n    }\n\n    return false;\n  });\n  F(output, \"workerWasmLoading\", () => output.wasmLoading);\n  F(output, \"devtoolNamespace\", () => output.uniqueName);\n\n  if (output.library) {\n    F(output.library, \"type\", () => output.module ? \"module\" : \"var\");\n  }\n\n  F(output, \"path\", () => path.join(process.cwd(), \"dist\"));\n  F(output, \"pathinfo\", () => development);\n  D(output, \"sourceMapFilename\", \"[file].map[query]\");\n  D(output, \"hotUpdateChunkFilename\", `[id].[fullhash].hot-update.${output.module ? \"mjs\" : \"js\"}`);\n  D(output, \"hotUpdateMainFilename\", \"[runtime].[fullhash].hot-update.json\");\n  D(output, \"crossOriginLoading\", false);\n  F(output, \"scriptType\", () => output.module ? \"module\" : false);\n  D(output, \"publicPath\", tp && (tp.document || tp.importScripts) || output.scriptType === \"module\" ? \"auto\" : \"\");\n  D(output, \"chunkLoadTimeout\", 120000);\n  D(output, \"hashFunction\", futureDefaults ? \"xxhash64\" : \"md4\");\n  D(output, \"hashDigest\", \"hex\");\n  D(output, \"hashDigestLength\", futureDefaults ? 16 : 20);\n  D(output, \"strictModuleExceptionHandling\", false);\n\n  const optimistic = v => v || v === undefined;\n\n  const conditionallyOptimistic = (v, c) => v === undefined && c || v;\n\n  F(output.environment, \"arrowFunction\", () => tp && optimistic(tp.arrowFunction));\n  F(output.environment, \"const\", () => tp && optimistic(tp.const));\n  F(output.environment, \"destructuring\", () => tp && optimistic(tp.destructuring));\n  F(output.environment, \"forOf\", () => tp && optimistic(tp.forOf));\n  F(output.environment, \"bigIntLiteral\", () => tp && tp.bigIntLiteral);\n  F(output.environment, \"dynamicImport\", () => conditionallyOptimistic(tp && tp.dynamicImport, output.module));\n  F(output.environment, \"module\", () => conditionallyOptimistic(tp && tp.module, output.module));\n  const {\n    trustedTypes\n  } = output;\n\n  if (trustedTypes) {\n    F(trustedTypes, \"policyName\", () => output.uniqueName.replace(/[^a-zA-Z0-9\\-#=_/@.%]+/g, \"_\") || \"webpack\");\n  }\n  /**\n   * @param {function(EntryDescription): void} fn iterator\n   * @returns {void}\n   */\n\n\n  const forEachEntry = fn => {\n    for (const name of Object.keys(entry)) {\n      fn(entry[name]);\n    }\n  };\n\n  A(output, \"enabledLibraryTypes\", () => {\n    const enabledLibraryTypes = [];\n\n    if (output.library) {\n      enabledLibraryTypes.push(output.library.type);\n    }\n\n    forEachEntry(desc => {\n      if (desc.library) {\n        enabledLibraryTypes.push(desc.library.type);\n      }\n    });\n    return enabledLibraryTypes;\n  });\n  A(output, \"enabledChunkLoadingTypes\", () => {\n    const enabledChunkLoadingTypes = new Set();\n\n    if (output.chunkLoading) {\n      enabledChunkLoadingTypes.add(output.chunkLoading);\n    }\n\n    if (output.workerChunkLoading) {\n      enabledChunkLoadingTypes.add(output.workerChunkLoading);\n    }\n\n    forEachEntry(desc => {\n      if (desc.chunkLoading) {\n        enabledChunkLoadingTypes.add(desc.chunkLoading);\n      }\n    });\n    return Array.from(enabledChunkLoadingTypes);\n  });\n  A(output, \"enabledWasmLoadingTypes\", () => {\n    const enabledWasmLoadingTypes = new Set();\n\n    if (output.wasmLoading) {\n      enabledWasmLoadingTypes.add(output.wasmLoading);\n    }\n\n    if (output.workerWasmLoading) {\n      enabledWasmLoadingTypes.add(output.workerWasmLoading);\n    }\n\n    forEachEntry(desc => {\n      if (desc.wasmLoading) {\n        enabledWasmLoadingTypes.add(desc.wasmLoading);\n      }\n    });\n    return Array.from(enabledWasmLoadingTypes);\n  });\n};\n/**\n * @param {ExternalsPresets} externalsPresets options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.buildHttp buildHttp experiment enabled\n * @returns {void}\n */\n\n\nconst applyExternalsPresetsDefaults = (externalsPresets, _ref7) => {\n  let {\n    targetProperties,\n    buildHttp\n  } = _ref7;\n  D(externalsPresets, \"web\", !buildHttp && targetProperties && targetProperties.web);\n  D(externalsPresets, \"node\", targetProperties && targetProperties.node);\n  D(externalsPresets, \"nwjs\", targetProperties && targetProperties.nwjs);\n  D(externalsPresets, \"electron\", targetProperties && targetProperties.electron);\n  D(externalsPresets, \"electronMain\", targetProperties && targetProperties.electron && targetProperties.electronMain);\n  D(externalsPresets, \"electronPreload\", targetProperties && targetProperties.electron && targetProperties.electronPreload);\n  D(externalsPresets, \"electronRenderer\", targetProperties && targetProperties.electron && targetProperties.electronRenderer);\n};\n/**\n * @param {Loader} loader options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @returns {void}\n */\n\n\nconst applyLoaderDefaults = (loader, _ref8) => {\n  let {\n    targetProperties\n  } = _ref8;\n  F(loader, \"target\", () => {\n    if (targetProperties) {\n      if (targetProperties.electron) {\n        if (targetProperties.electronMain) return \"electron-main\";\n        if (targetProperties.electronPreload) return \"electron-preload\";\n        if (targetProperties.electronRenderer) return \"electron-renderer\";\n        return \"electron\";\n      }\n\n      if (targetProperties.nwjs) return \"nwjs\";\n      if (targetProperties.node) return \"node\";\n      if (targetProperties.web) return \"web\";\n    }\n  });\n};\n/**\n * @param {WebpackNode} node options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\n\n\nconst applyNodeDefaults = (node, _ref9) => {\n  let {\n    futureDefaults,\n    targetProperties\n  } = _ref9;\n  if (node === false) return;\n  F(node, \"global\", () => {\n    if (targetProperties && targetProperties.global) return false; // TODO webpack 6 should always default to false\n\n    return futureDefaults ? \"warn\" : true;\n  });\n  F(node, \"__filename\", () => {\n    if (targetProperties && targetProperties.node) return \"eval-only\"; // TODO webpack 6 should always default to false\n\n    return futureDefaults ? \"warn-mock\" : \"mock\";\n  });\n  F(node, \"__dirname\", () => {\n    if (targetProperties && targetProperties.node) return \"eval-only\"; // TODO webpack 6 should always default to false\n\n    return futureDefaults ? \"warn-mock\" : \"mock\";\n  });\n};\n/**\n * @param {Performance} performance options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @returns {void}\n */\n\n\nconst applyPerformanceDefaults = (performance, _ref10) => {\n  let {\n    production\n  } = _ref10;\n  if (performance === false) return;\n  D(performance, \"maxAssetSize\", 250000);\n  D(performance, \"maxEntrypointSize\", 250000);\n  F(performance, \"hints\", () => production ? \"warning\" : false);\n};\n/**\n * @param {Optimization} optimization options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development\n * @param {CssExperimentOptions} options.css is css enabled\n * @param {boolean} options.records using records\n * @returns {void}\n */\n\n\nconst applyOptimizationDefaults = (optimization, _ref11) => {\n  let {\n    production,\n    development,\n    css,\n    records\n  } = _ref11;\n  D(optimization, \"removeAvailableModules\", false);\n  D(optimization, \"removeEmptyChunks\", true);\n  D(optimization, \"mergeDuplicateChunks\", true);\n  D(optimization, \"flagIncludedChunks\", production);\n  F(optimization, \"moduleIds\", () => {\n    if (production) return \"deterministic\";\n    if (development) return \"named\";\n    return \"natural\";\n  });\n  F(optimization, \"chunkIds\", () => {\n    if (production) return \"deterministic\";\n    if (development) return \"named\";\n    return \"natural\";\n  });\n  F(optimization, \"sideEffects\", () => production ? true : \"flag\");\n  D(optimization, \"providedExports\", true);\n  D(optimization, \"usedExports\", production);\n  D(optimization, \"innerGraph\", production);\n  D(optimization, \"mangleExports\", production);\n  D(optimization, \"concatenateModules\", production);\n  D(optimization, \"runtimeChunk\", false);\n  D(optimization, \"emitOnErrors\", !production);\n  D(optimization, \"checkWasmTypes\", production);\n  D(optimization, \"mangleWasmImports\", false);\n  D(optimization, \"portableRecords\", records);\n  D(optimization, \"realContentHash\", production);\n  D(optimization, \"minimize\", production);\n  A(optimization, \"minimizer\", () => [{\n    apply: compiler => {\n      // Lazy load the Terser plugin\n      const TerserPlugin = require(\"terser-webpack-plugin\");\n\n      new TerserPlugin({\n        terserOptions: {\n          compress: {\n            passes: 2\n          }\n        }\n      }).apply(compiler);\n    }\n  }]);\n  F(optimization, \"nodeEnv\", () => {\n    if (production) return \"production\";\n    if (development) return \"development\";\n    return false;\n  });\n  const {\n    splitChunks\n  } = optimization;\n\n  if (splitChunks) {\n    A(splitChunks, \"defaultSizeTypes\", () => css ? [\"javascript\", \"css\", \"unknown\"] : [\"javascript\", \"unknown\"]);\n    D(splitChunks, \"hidePathInfo\", production);\n    D(splitChunks, \"chunks\", \"async\");\n    D(splitChunks, \"usedExports\", optimization.usedExports === true);\n    D(splitChunks, \"minChunks\", 1);\n    F(splitChunks, \"minSize\", () => production ? 20000 : 10000);\n    F(splitChunks, \"minRemainingSize\", () => development ? 0 : undefined);\n    F(splitChunks, \"enforceSizeThreshold\", () => production ? 50000 : 30000);\n    F(splitChunks, \"maxAsyncRequests\", () => production ? 30 : Infinity);\n    F(splitChunks, \"maxInitialRequests\", () => production ? 30 : Infinity);\n    D(splitChunks, \"automaticNameDelimiter\", \"-\");\n    const {\n      cacheGroups\n    } = splitChunks;\n    F(cacheGroups, \"default\", () => ({\n      idHint: \"\",\n      reuseExistingChunk: true,\n      minChunks: 2,\n      priority: -20\n    }));\n    F(cacheGroups, \"defaultVendors\", () => ({\n      idHint: \"vendors\",\n      reuseExistingChunk: true,\n      test: NODE_MODULES_REGEXP,\n      priority: -10\n    }));\n  }\n};\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @param {string} options.context build context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {Mode} options.mode mode\n * @returns {ResolveOptions} resolve options\n */\n\n\nconst getResolveDefaults = _ref12 => {\n  let {\n    cache,\n    context,\n    targetProperties,\n    mode\n  } = _ref12;\n\n  /** @type {string[]} */\n  const conditions = [\"webpack\"];\n  conditions.push(mode === \"development\" ? \"development\" : \"production\");\n\n  if (targetProperties) {\n    if (targetProperties.webworker) conditions.push(\"worker\");\n    if (targetProperties.node) conditions.push(\"node\");\n    if (targetProperties.web) conditions.push(\"browser\");\n    if (targetProperties.electron) conditions.push(\"electron\");\n    if (targetProperties.nwjs) conditions.push(\"nwjs\");\n  }\n\n  const jsExtensions = [\".js\", \".json\", \".wasm\"];\n  const tp = targetProperties;\n  const browserField = tp && tp.web && (!tp.node || tp.electron && tp.electronRenderer);\n  /** @type {function(): ResolveOptions} */\n\n  const cjsDeps = () => ({\n    aliasFields: browserField ? [\"browser\"] : [],\n    mainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n    conditionNames: [\"require\", \"module\", \"...\"],\n    extensions: [...jsExtensions]\n  });\n  /** @type {function(): ResolveOptions} */\n\n\n  const esmDeps = () => ({\n    aliasFields: browserField ? [\"browser\"] : [],\n    mainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n    conditionNames: [\"import\", \"module\", \"...\"],\n    extensions: [...jsExtensions]\n  });\n  /** @type {ResolveOptions} */\n\n\n  const resolveOptions = {\n    cache,\n    modules: [\"node_modules\"],\n    conditionNames: conditions,\n    mainFiles: [\"index\"],\n    extensions: [],\n    aliasFields: [],\n    exportsFields: [\"exports\"],\n    roots: [context],\n    mainFields: [\"main\"],\n    byDependency: {\n      wasm: esmDeps(),\n      esm: esmDeps(),\n      loaderImport: esmDeps(),\n      url: {\n        preferRelative: true\n      },\n      worker: { ...esmDeps(),\n        preferRelative: true\n      },\n      commonjs: cjsDeps(),\n      amd: cjsDeps(),\n      // for backward-compat: loadModule\n      loader: cjsDeps(),\n      // for backward-compat: Custom Dependency\n      unknown: cjsDeps(),\n      // for backward-compat: getResolve without dependencyType\n      undefined: cjsDeps()\n    }\n  };\n  return resolveOptions;\n};\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @returns {ResolveOptions} resolve options\n */\n\n\nconst getResolveLoaderDefaults = _ref13 => {\n  let {\n    cache\n  } = _ref13;\n\n  /** @type {ResolveOptions} */\n  const resolveOptions = {\n    cache,\n    conditionNames: [\"loader\", \"require\", \"node\"],\n    exportsFields: [\"exports\"],\n    mainFields: [\"loader\", \"main\"],\n    extensions: [\".js\"],\n    mainFiles: [\"index\"]\n  };\n  return resolveOptions;\n};\n/**\n * @param {InfrastructureLogging} infrastructureLogging options\n * @returns {void}\n */\n\n\nconst applyInfrastructureLoggingDefaults = infrastructureLogging => {\n  F(infrastructureLogging, \"stream\", () => process.stderr);\n  const tty =\n  /** @type {any} */\n  infrastructureLogging.stream.isTTY && process.env.TERM !== \"dumb\";\n  D(infrastructureLogging, \"level\", \"info\");\n  D(infrastructureLogging, \"debug\", false);\n  D(infrastructureLogging, \"colors\", tty);\n  D(infrastructureLogging, \"appendOnly\", !tty);\n};\n\nexports.applyWebpackOptionsBaseDefaults = applyWebpackOptionsBaseDefaults;\nexports.applyWebpackOptionsDefaults = applyWebpackOptionsDefaults;","map":{"version":3,"names":["fs","require","path","Template","cleverMerge","getTargetsProperties","getTargetProperties","getDefaultTarget","NODE_MODULES_REGEXP","D","obj","prop","value","undefined","F","factory","A","Array","isArray","newArray","i","length","item","slice","items","push","applyWebpackOptionsBaseDefaults","options","process","cwd","applyInfrastructureLoggingDefaults","infrastructureLogging","applyWebpackOptionsDefaults","context","mode","name","target","targetProperties","development","production","entry","key","Object","keys","applyExperimentsDefaults","experiments","futureDefaults","type","applyCacheDefaults","cache","cacheUnaffected","applySnapshotDefaults","snapshot","applyModuleDefaults","module","syncWebAssembly","asyncWebAssembly","css","isNode","node","applyOutputDefaults","output","isAffectedByBrowserslist","startsWith","some","outputModule","applyExternalsPresetsDefaults","externalsPresets","buildHttp","applyLoaderDefaults","loader","validExternalTypes","definitions","ExternalsType","enum","library","includes","applyNodeDefaults","browser","applyPerformanceDefaults","performance","applyOptimizationDefaults","optimization","records","recordsInputPath","recordsOutputPath","resolve","getResolveDefaults","resolveLoader","getResolveLoaderDefaults","document","dir","statSync","join","isFile","e","parent","dirname","versions","pnp","cacheDirectory","Infinity","buildDependencies","__dirname","sep","match","exec","timestamp","hash","applyJavascriptParserOptionsDefaults","parserOptions","nameForCondition","test","parser","asset","dataUrlCondition","javascript","esm","byDependency","fullySpecified","commonjs","rules","mimetype","descriptionData","or","wasm","cssRule","preferRelative","cssModulesRule","oneOf","dependency","scheme","assert","tp","getLibraryName","libraryName","root","replace","m","a","d1","d2","b","c","content","endsWith","pkgPath","packageInfo","JSON","parse","readFileSync","code","message","filename","hasName","hasId","hasChunkHash","hasContentHash","chunkFilename","toIdentifier","uniqueName","global","globalThis","helpMessage","dynamicImport","Error","nodeBuiltins","importScripts","chunkFormat","importScriptsInWorker","dynamicImportInWorker","fetchWasm","wasmLoading","scriptType","optimistic","v","conditionallyOptimistic","environment","arrowFunction","const","destructuring","forOf","bigIntLiteral","trustedTypes","forEachEntry","fn","enabledLibraryTypes","desc","enabledChunkLoadingTypes","Set","chunkLoading","add","workerChunkLoading","from","enabledWasmLoadingTypes","workerWasmLoading","web","nwjs","electron","electronMain","electronPreload","electronRenderer","apply","compiler","TerserPlugin","terserOptions","compress","passes","splitChunks","usedExports","cacheGroups","idHint","reuseExistingChunk","minChunks","priority","conditions","webworker","jsExtensions","browserField","cjsDeps","aliasFields","mainFields","conditionNames","extensions","esmDeps","resolveOptions","modules","mainFiles","exportsFields","roots","loaderImport","url","worker","amd","unknown","stderr","tty","stream","isTTY","env","TERM","exports"],"sources":["/Users/arpanbhandari/Documents/cod-ing/React/newsapp/node_modules/webpack/lib/config/defaults.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst Template = require(\"../Template\");\nconst { cleverMerge } = require(\"../util/cleverMerge\");\nconst {\n\tgetTargetsProperties,\n\tgetTargetProperties,\n\tgetDefaultTarget\n} = require(\"./target\");\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").CacheOptionsNormalized} CacheOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").CssExperimentOptions} CssExperimentOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryDescription} EntryDescription */\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryNormalized} Entry */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Experiments} Experiments */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExperimentsNormalized} ExperimentsNormalized */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsPresets} ExternalsPresets */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsType} ExternalsType */\n/** @typedef {import(\"../../declarations/WebpackOptions\").InfrastructureLogging} InfrastructureLogging */\n/** @typedef {import(\"../../declarations/WebpackOptions\").JavascriptParserOptions} JavascriptParserOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Library} Library */\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryName} LibraryName */\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryOptions} LibraryOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Loader} Loader */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Mode} Mode */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ModuleOptionsNormalized} ModuleOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Node} WebpackNode */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Optimization} Optimization */\n/** @typedef {import(\"../../declarations/WebpackOptions\").OutputNormalized} Output */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Performance} Performance */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ResolveOptions} ResolveOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").RuleSetRules} RuleSetRules */\n/** @typedef {import(\"../../declarations/WebpackOptions\").SnapshotOptions} SnapshotOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Target} Target */\n/** @typedef {import(\"../../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\n/** @typedef {import(\"./target\").TargetProperties} TargetProperties */\n\nconst NODE_MODULES_REGEXP = /[\\\\/]node_modules[\\\\/]/i;\n\n/**\n * Sets a constant default value when undefined\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {T[P]} value a default value of the property\n * @returns {void}\n */\nconst D = (obj, prop, value) => {\n\tif (obj[prop] === undefined) {\n\t\tobj[prop] = value;\n\t}\n};\n\n/**\n * Sets a dynamic default value when undefined, by calling the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\nconst F = (obj, prop, factory) => {\n\tif (obj[prop] === undefined) {\n\t\tobj[prop] = factory();\n\t}\n};\n\n/**\n * Sets a dynamic default value when undefined, by calling the factory function.\n * factory must return an array or undefined\n * When the current value is already an array an contains \"...\" it's replaced with\n * the result of the factory function\n * @template T\n * @template {keyof T} P\n * @param {T} obj an object\n * @param {P} prop a property of this object\n * @param {function(): T[P]} factory a default value factory for the property\n * @returns {void}\n */\nconst A = (obj, prop, factory) => {\n\tconst value = obj[prop];\n\tif (value === undefined) {\n\t\tobj[prop] = factory();\n\t} else if (Array.isArray(value)) {\n\t\t/** @type {any[]} */\n\t\tlet newArray = undefined;\n\t\tfor (let i = 0; i < value.length; i++) {\n\t\t\tconst item = value[i];\n\t\t\tif (item === \"...\") {\n\t\t\t\tif (newArray === undefined) {\n\t\t\t\t\tnewArray = value.slice(0, i);\n\t\t\t\t\tobj[prop] = /** @type {T[P]} */ (/** @type {unknown} */ (newArray));\n\t\t\t\t}\n\t\t\t\tconst items = /** @type {any[]} */ (/** @type {unknown} */ (factory()));\n\t\t\t\tif (items !== undefined) {\n\t\t\t\t\tfor (const item of items) {\n\t\t\t\t\t\tnewArray.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (newArray !== undefined) {\n\t\t\t\tnewArray.push(item);\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\nconst applyWebpackOptionsBaseDefaults = options => {\n\tF(options, \"context\", () => process.cwd());\n\tapplyInfrastructureLoggingDefaults(options.infrastructureLogging);\n};\n\n/**\n * @param {WebpackOptions} options options to be modified\n * @returns {void}\n */\nconst applyWebpackOptionsDefaults = options => {\n\tF(options, \"context\", () => process.cwd());\n\tF(options, \"target\", () => {\n\t\treturn getDefaultTarget(options.context);\n\t});\n\n\tconst { mode, name, target } = options;\n\n\tlet targetProperties =\n\t\ttarget === false\n\t\t\t? /** @type {false} */ (false)\n\t\t\t: typeof target === \"string\"\n\t\t\t? getTargetProperties(target, options.context)\n\t\t\t: getTargetsProperties(target, options.context);\n\n\tconst development = mode === \"development\";\n\tconst production = mode === \"production\" || !mode;\n\n\tif (typeof options.entry !== \"function\") {\n\t\tfor (const key of Object.keys(options.entry)) {\n\t\t\tF(\n\t\t\t\toptions.entry[key],\n\t\t\t\t\"import\",\n\t\t\t\t() => /** @type {[string]} */ ([\"./src\"])\n\t\t\t);\n\t\t}\n\t}\n\n\tF(options, \"devtool\", () => (development ? \"eval\" : false));\n\tD(options, \"watch\", false);\n\tD(options, \"profile\", false);\n\tD(options, \"parallelism\", 100);\n\tD(options, \"recordsInputPath\", false);\n\tD(options, \"recordsOutputPath\", false);\n\n\tapplyExperimentsDefaults(options.experiments, {\n\t\tproduction,\n\t\tdevelopment,\n\t\ttargetProperties\n\t});\n\n\tconst futureDefaults = options.experiments.futureDefaults;\n\n\tF(options, \"cache\", () =>\n\t\tdevelopment ? { type: /** @type {\"memory\"} */ (\"memory\") } : false\n\t);\n\tapplyCacheDefaults(options.cache, {\n\t\tname: name || \"default\",\n\t\tmode: mode || \"production\",\n\t\tdevelopment,\n\t\tcacheUnaffected: options.experiments.cacheUnaffected\n\t});\n\tconst cache = !!options.cache;\n\n\tapplySnapshotDefaults(options.snapshot, {\n\t\tproduction,\n\t\tfutureDefaults\n\t});\n\n\tapplyModuleDefaults(options.module, {\n\t\tcache,\n\t\tsyncWebAssembly: options.experiments.syncWebAssembly,\n\t\tasyncWebAssembly: options.experiments.asyncWebAssembly,\n\t\tcss: options.experiments.css,\n\t\tfutureDefaults,\n\t\tisNode: targetProperties && targetProperties.node === true\n\t});\n\n\tapplyOutputDefaults(options.output, {\n\t\tcontext: options.context,\n\t\ttargetProperties,\n\t\tisAffectedByBrowserslist:\n\t\t\ttarget === undefined ||\n\t\t\t(typeof target === \"string\" && target.startsWith(\"browserslist\")) ||\n\t\t\t(Array.isArray(target) &&\n\t\t\t\ttarget.some(target => target.startsWith(\"browserslist\"))),\n\t\toutputModule: options.experiments.outputModule,\n\t\tdevelopment,\n\t\tentry: options.entry,\n\t\tmodule: options.module,\n\t\tfutureDefaults\n\t});\n\n\tapplyExternalsPresetsDefaults(options.externalsPresets, {\n\t\ttargetProperties,\n\t\tbuildHttp: !!options.experiments.buildHttp\n\t});\n\n\tapplyLoaderDefaults(options.loader, { targetProperties });\n\n\tF(options, \"externalsType\", () => {\n\t\tconst validExternalTypes = require(\"../../schemas/WebpackOptions.json\")\n\t\t\t.definitions.ExternalsType.enum;\n\t\treturn options.output.library &&\n\t\t\tvalidExternalTypes.includes(options.output.library.type)\n\t\t\t? /** @type {ExternalsType} */ (options.output.library.type)\n\t\t\t: options.output.module\n\t\t\t? \"module\"\n\t\t\t: \"var\";\n\t});\n\n\tapplyNodeDefaults(options.node, {\n\t\tfutureDefaults: options.experiments.futureDefaults,\n\t\ttargetProperties\n\t});\n\n\tF(options, \"performance\", () =>\n\t\tproduction &&\n\t\ttargetProperties &&\n\t\t(targetProperties.browser || targetProperties.browser === null)\n\t\t\t? {}\n\t\t\t: false\n\t);\n\tapplyPerformanceDefaults(options.performance, {\n\t\tproduction\n\t});\n\n\tapplyOptimizationDefaults(options.optimization, {\n\t\tdevelopment,\n\t\tproduction,\n\t\tcss: options.experiments.css,\n\t\trecords: !!(options.recordsInputPath || options.recordsOutputPath)\n\t});\n\n\toptions.resolve = cleverMerge(\n\t\tgetResolveDefaults({\n\t\t\tcache,\n\t\t\tcontext: options.context,\n\t\t\ttargetProperties,\n\t\t\tmode: options.mode\n\t\t}),\n\t\toptions.resolve\n\t);\n\n\toptions.resolveLoader = cleverMerge(\n\t\tgetResolveLoaderDefaults({ cache }),\n\t\toptions.resolveLoader\n\t);\n};\n\n/**\n * @param {ExperimentsNormalized} experiments options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development mode\n * @param {TargetProperties | false} options.targetProperties target properties\n * @returns {void}\n */\nconst applyExperimentsDefaults = (\n\texperiments,\n\t{ production, development, targetProperties }\n) => {\n\tD(experiments, \"futureDefaults\", false);\n\tD(experiments, \"backCompat\", !experiments.futureDefaults);\n\tD(experiments, \"topLevelAwait\", experiments.futureDefaults);\n\tD(experiments, \"syncWebAssembly\", false);\n\tD(experiments, \"asyncWebAssembly\", experiments.futureDefaults);\n\tD(experiments, \"outputModule\", false);\n\tD(experiments, \"layers\", false);\n\tD(experiments, \"lazyCompilation\", undefined);\n\tD(experiments, \"buildHttp\", undefined);\n\tD(experiments, \"cacheUnaffected\", experiments.futureDefaults);\n\tF(experiments, \"css\", () => (experiments.futureDefaults ? {} : undefined));\n\n\tif (typeof experiments.buildHttp === \"object\") {\n\t\tD(experiments.buildHttp, \"frozen\", production);\n\t\tD(experiments.buildHttp, \"upgrade\", false);\n\t}\n\n\tif (typeof experiments.css === \"object\") {\n\t\tD(\n\t\t\texperiments.css,\n\t\t\t\"exportsOnly\",\n\t\t\t!targetProperties || !targetProperties.document\n\t\t);\n\t}\n};\n\n/**\n * @param {CacheOptions} cache options\n * @param {Object} options options\n * @param {string} options.name name\n * @param {string} options.mode mode\n * @param {boolean} options.development is development mode\n * @param {boolean} options.cacheUnaffected the cacheUnaffected experiment is enabled\n * @returns {void}\n */\nconst applyCacheDefaults = (\n\tcache,\n\t{ name, mode, development, cacheUnaffected }\n) => {\n\tif (cache === false) return;\n\tswitch (cache.type) {\n\t\tcase \"filesystem\":\n\t\t\tF(cache, \"name\", () => name + \"-\" + mode);\n\t\t\tD(cache, \"version\", \"\");\n\t\t\tF(cache, \"cacheDirectory\", () => {\n\t\t\t\tconst cwd = process.cwd();\n\t\t\t\tlet dir = cwd;\n\t\t\t\tfor (;;) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (fs.statSync(path.join(dir, \"package.json\")).isFile()) break;\n\t\t\t\t\t\t// eslint-disable-next-line no-empty\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t\tconst parent = path.dirname(dir);\n\t\t\t\t\tif (dir === parent) {\n\t\t\t\t\t\tdir = undefined;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdir = parent;\n\t\t\t\t}\n\t\t\t\tif (!dir) {\n\t\t\t\t\treturn path.resolve(cwd, \".cache/webpack\");\n\t\t\t\t} else if (process.versions.pnp === \"1\") {\n\t\t\t\t\treturn path.resolve(dir, \".pnp/.cache/webpack\");\n\t\t\t\t} else if (process.versions.pnp === \"3\") {\n\t\t\t\t\treturn path.resolve(dir, \".yarn/.cache/webpack\");\n\t\t\t\t} else {\n\t\t\t\t\treturn path.resolve(dir, \"node_modules/.cache/webpack\");\n\t\t\t\t}\n\t\t\t});\n\t\t\tF(cache, \"cacheLocation\", () =>\n\t\t\t\tpath.resolve(cache.cacheDirectory, cache.name)\n\t\t\t);\n\t\t\tD(cache, \"hashAlgorithm\", \"md4\");\n\t\t\tD(cache, \"store\", \"pack\");\n\t\t\tD(cache, \"compression\", false);\n\t\t\tD(cache, \"profile\", false);\n\t\t\tD(cache, \"idleTimeout\", 60000);\n\t\t\tD(cache, \"idleTimeoutForInitialStore\", 5000);\n\t\t\tD(cache, \"idleTimeoutAfterLargeChanges\", 1000);\n\t\t\tD(cache, \"maxMemoryGenerations\", development ? 5 : Infinity);\n\t\t\tD(cache, \"maxAge\", 1000 * 60 * 60 * 24 * 60); // 1 month\n\t\t\tD(cache, \"allowCollectingMemory\", development);\n\t\t\tD(cache, \"memoryCacheUnaffected\", development && cacheUnaffected);\n\t\t\tD(cache.buildDependencies, \"defaultWebpack\", [\n\t\t\t\tpath.resolve(__dirname, \"..\") + path.sep\n\t\t\t]);\n\t\t\tbreak;\n\t\tcase \"memory\":\n\t\t\tD(cache, \"maxGenerations\", Infinity);\n\t\t\tD(cache, \"cacheUnaffected\", development && cacheUnaffected);\n\t\t\tbreak;\n\t}\n};\n\n/**\n * @param {SnapshotOptions} snapshot options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\nconst applySnapshotDefaults = (snapshot, { production, futureDefaults }) => {\n\tif (futureDefaults) {\n\t\tF(snapshot, \"managedPaths\", () =>\n\t\t\tprocess.versions.pnp === \"3\"\n\t\t\t\t? [\n\t\t\t\t\t\t/^(.+?(?:[\\\\/]\\.yarn[\\\\/]unplugged[\\\\/][^\\\\/]+)?[\\\\/]node_modules[\\\\/])/\n\t\t\t\t  ]\n\t\t\t\t: [/^(.+?[\\\\/]node_modules[\\\\/])/]\n\t\t);\n\t\tF(snapshot, \"immutablePaths\", () =>\n\t\t\tprocess.versions.pnp === \"3\"\n\t\t\t\t? [/^(.+?[\\\\/]cache[\\\\/][^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/])/]\n\t\t\t\t: []\n\t\t);\n\t} else {\n\t\tA(snapshot, \"managedPaths\", () => {\n\t\t\tif (process.versions.pnp === \"3\") {\n\t\t\t\tconst match =\n\t\t\t\t\t/^(.+?)[\\\\/]cache[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [path.resolve(match[1], \"unplugged\")];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst match = /^(.+?[\\\\/]node_modules[\\\\/])/.exec(\n\t\t\t\t\t// eslint-disable-next-line node/no-extraneous-require\n\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [match[1]];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [];\n\t\t});\n\t\tA(snapshot, \"immutablePaths\", () => {\n\t\t\tif (process.versions.pnp === \"1\") {\n\t\t\t\tconst match =\n\t\t\t\t\t/^(.+?[\\\\/]v4)[\\\\/]npm-watchpack-[^\\\\/]+-[\\da-f]{40}[\\\\/]node_modules[\\\\/]/.exec(\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [match[1]];\n\t\t\t\t}\n\t\t\t} else if (process.versions.pnp === \"3\") {\n\t\t\t\tconst match =\n\t\t\t\t\t/^(.+?)[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\n\t\t\t\t\t);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn [match[1]];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [];\n\t\t});\n\t}\n\tF(snapshot, \"resolveBuildDependencies\", () => ({\n\t\ttimestamp: true,\n\t\thash: true\n\t}));\n\tF(snapshot, \"buildDependencies\", () => ({ timestamp: true, hash: true }));\n\tF(snapshot, \"module\", () =>\n\t\tproduction ? { timestamp: true, hash: true } : { timestamp: true }\n\t);\n\tF(snapshot, \"resolve\", () =>\n\t\tproduction ? { timestamp: true, hash: true } : { timestamp: true }\n\t);\n};\n\n/**\n * @param {JavascriptParserOptions} parserOptions parser options\n * @param {Object} options options\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @param {boolean} options.isNode is node target platform\n * @returns {void}\n */\nconst applyJavascriptParserOptionsDefaults = (\n\tparserOptions,\n\t{ futureDefaults, isNode }\n) => {\n\tD(parserOptions, \"unknownContextRequest\", \".\");\n\tD(parserOptions, \"unknownContextRegExp\", false);\n\tD(parserOptions, \"unknownContextRecursive\", true);\n\tD(parserOptions, \"unknownContextCritical\", true);\n\tD(parserOptions, \"exprContextRequest\", \".\");\n\tD(parserOptions, \"exprContextRegExp\", false);\n\tD(parserOptions, \"exprContextRecursive\", true);\n\tD(parserOptions, \"exprContextCritical\", true);\n\tD(parserOptions, \"wrappedContextRegExp\", /.*/);\n\tD(parserOptions, \"wrappedContextRecursive\", true);\n\tD(parserOptions, \"wrappedContextCritical\", false);\n\tD(parserOptions, \"strictThisContextOnImports\", false);\n\tD(parserOptions, \"importMeta\", true);\n\tD(parserOptions, \"dynamicImportMode\", \"lazy\");\n\tD(parserOptions, \"dynamicImportPrefetch\", false);\n\tD(parserOptions, \"dynamicImportPreload\", false);\n\tD(parserOptions, \"createRequire\", isNode);\n\tif (futureDefaults) D(parserOptions, \"exportsPresence\", \"error\");\n};\n\n/**\n * @param {ModuleOptions} module options\n * @param {Object} options options\n * @param {boolean} options.cache is caching enabled\n * @param {boolean} options.syncWebAssembly is syncWebAssembly enabled\n * @param {boolean} options.asyncWebAssembly is asyncWebAssembly enabled\n * @param {CssExperimentOptions} options.css is css enabled\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @param {boolean} options.isNode is node target platform\n * @returns {void}\n */\nconst applyModuleDefaults = (\n\tmodule,\n\t{ cache, syncWebAssembly, asyncWebAssembly, css, futureDefaults, isNode }\n) => {\n\tif (cache) {\n\t\tD(module, \"unsafeCache\", module => {\n\t\t\tconst name = module.nameForCondition();\n\t\t\treturn name && NODE_MODULES_REGEXP.test(name);\n\t\t});\n\t} else {\n\t\tD(module, \"unsafeCache\", false);\n\t}\n\n\tF(module.parser, \"asset\", () => ({}));\n\tF(module.parser.asset, \"dataUrlCondition\", () => ({}));\n\tif (typeof module.parser.asset.dataUrlCondition === \"object\") {\n\t\tD(module.parser.asset.dataUrlCondition, \"maxSize\", 8096);\n\t}\n\n\tF(module.parser, \"javascript\", () => ({}));\n\tapplyJavascriptParserOptionsDefaults(module.parser.javascript, {\n\t\tfutureDefaults,\n\t\tisNode\n\t});\n\n\tA(module, \"defaultRules\", () => {\n\t\tconst esm = {\n\t\t\ttype: \"javascript/esm\",\n\t\t\tresolve: {\n\t\t\t\tbyDependency: {\n\t\t\t\t\tesm: {\n\t\t\t\t\t\tfullySpecified: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tconst commonjs = {\n\t\t\ttype: \"javascript/dynamic\"\n\t\t};\n\t\t/** @type {RuleSetRules} */\n\t\tconst rules = [\n\t\t\t{\n\t\t\t\tmimetype: \"application/node\",\n\t\t\t\ttype: \"javascript/auto\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.json$/i,\n\t\t\t\ttype: \"json\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tmimetype: \"application/json\",\n\t\t\t\ttype: \"json\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.mjs$/i,\n\t\t\t\t...esm\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.js$/i,\n\t\t\t\tdescriptionData: {\n\t\t\t\t\ttype: \"module\"\n\t\t\t\t},\n\t\t\t\t...esm\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.cjs$/i,\n\t\t\t\t...commonjs\n\t\t\t},\n\t\t\t{\n\t\t\t\ttest: /\\.js$/i,\n\t\t\t\tdescriptionData: {\n\t\t\t\t\ttype: \"commonjs\"\n\t\t\t\t},\n\t\t\t\t...commonjs\n\t\t\t},\n\t\t\t{\n\t\t\t\tmimetype: {\n\t\t\t\t\tor: [\"text/javascript\", \"application/javascript\"]\n\t\t\t\t},\n\t\t\t\t...esm\n\t\t\t}\n\t\t];\n\t\tif (asyncWebAssembly) {\n\t\t\tconst wasm = {\n\t\t\t\ttype: \"webassembly/async\",\n\t\t\t\trules: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdescriptionData: {\n\t\t\t\t\t\t\ttype: \"module\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tresolve: {\n\t\t\t\t\t\t\tfullySpecified: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\trules.push({\n\t\t\t\ttest: /\\.wasm$/i,\n\t\t\t\t...wasm\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"application/wasm\",\n\t\t\t\t...wasm\n\t\t\t});\n\t\t} else if (syncWebAssembly) {\n\t\t\tconst wasm = {\n\t\t\t\ttype: \"webassembly/sync\",\n\t\t\t\trules: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdescriptionData: {\n\t\t\t\t\t\t\ttype: \"module\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tresolve: {\n\t\t\t\t\t\t\tfullySpecified: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\trules.push({\n\t\t\t\ttest: /\\.wasm$/i,\n\t\t\t\t...wasm\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"application/wasm\",\n\t\t\t\t...wasm\n\t\t\t});\n\t\t}\n\t\tif (css) {\n\t\t\tconst cssRule = {\n\t\t\t\ttype: \"css\",\n\t\t\t\tresolve: {\n\t\t\t\t\tfullySpecified: true,\n\t\t\t\t\tpreferRelative: true\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst cssModulesRule = {\n\t\t\t\ttype: \"css/module\",\n\t\t\t\tresolve: {\n\t\t\t\t\tfullySpecified: true\n\t\t\t\t}\n\t\t\t};\n\t\t\trules.push({\n\t\t\t\ttest: /\\.css$/i,\n\t\t\t\toneOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttest: /\\.module\\.css$/i,\n\t\t\t\t\t\t...cssModulesRule\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t...cssRule\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"text/css+module\",\n\t\t\t\t...cssModulesRule\n\t\t\t});\n\t\t\trules.push({\n\t\t\t\tmimetype: \"text/css\",\n\t\t\t\t...cssRule\n\t\t\t});\n\t\t}\n\t\trules.push(\n\t\t\t{\n\t\t\t\tdependency: \"url\",\n\t\t\t\toneOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\tscheme: /^data$/,\n\t\t\t\t\t\ttype: \"asset/inline\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: \"asset/resource\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\tassert: { type: \"json\" },\n\t\t\t\ttype: \"json\"\n\t\t\t}\n\t\t);\n\t\treturn rules;\n\t});\n};\n\n/**\n * @param {Output} output options\n * @param {Object} options options\n * @param {string} options.context context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.isAffectedByBrowserslist is affected by browserslist\n * @param {boolean} options.outputModule is outputModule experiment enabled\n * @param {boolean} options.development is development mode\n * @param {Entry} options.entry entry option\n * @param {ModuleOptions} options.module module option\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\nconst applyOutputDefaults = (\n\toutput,\n\t{\n\t\tcontext,\n\t\ttargetProperties: tp,\n\t\tisAffectedByBrowserslist,\n\t\toutputModule,\n\t\tdevelopment,\n\t\tentry,\n\t\tmodule,\n\t\tfutureDefaults\n\t}\n) => {\n\t/**\n\t * @param {Library=} library the library option\n\t * @returns {string} a readable library name\n\t */\n\tconst getLibraryName = library => {\n\t\tconst libraryName =\n\t\t\ttypeof library === \"object\" &&\n\t\t\tlibrary &&\n\t\t\t!Array.isArray(library) &&\n\t\t\t\"type\" in library\n\t\t\t\t? library.name\n\t\t\t\t: /** @type {LibraryName=} */ (library);\n\t\tif (Array.isArray(libraryName)) {\n\t\t\treturn libraryName.join(\".\");\n\t\t} else if (typeof libraryName === \"object\") {\n\t\t\treturn getLibraryName(libraryName.root);\n\t\t} else if (typeof libraryName === \"string\") {\n\t\t\treturn libraryName;\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tF(output, \"uniqueName\", () => {\n\t\tconst libraryName = getLibraryName(output.library).replace(\n\t\t\t/^\\[(\\\\*[\\w:]+\\\\*)\\](\\.)|(\\.)\\[(\\\\*[\\w:]+\\\\*)\\](?=\\.|$)|\\[(\\\\*[\\w:]+\\\\*)\\]/g,\n\t\t\t(m, a, d1, d2, b, c) => {\n\t\t\t\tconst content = a || b || c;\n\t\t\t\treturn content.startsWith(\"\\\\\") && content.endsWith(\"\\\\\")\n\t\t\t\t\t? `${d2 || \"\"}[${content.slice(1, -1)}]${d1 || \"\"}`\n\t\t\t\t\t: \"\";\n\t\t\t}\n\t\t);\n\t\tif (libraryName) return libraryName;\n\t\tconst pkgPath = path.resolve(context, \"package.json\");\n\t\ttry {\n\t\t\tconst packageInfo = JSON.parse(fs.readFileSync(pkgPath, \"utf-8\"));\n\t\t\treturn packageInfo.name || \"\";\n\t\t} catch (e) {\n\t\t\tif (e.code !== \"ENOENT\") {\n\t\t\t\te.message += `\\nwhile determining default 'output.uniqueName' from 'name' in ${pkgPath}`;\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\treturn \"\";\n\t\t}\n\t});\n\n\tF(output, \"module\", () => !!outputModule);\n\tD(output, \"filename\", output.module ? \"[name].mjs\" : \"[name].js\");\n\tF(output, \"iife\", () => !output.module);\n\tD(output, \"importFunctionName\", \"import\");\n\tD(output, \"importMetaName\", \"import.meta\");\n\tF(output, \"chunkFilename\", () => {\n\t\tconst filename = output.filename;\n\t\tif (typeof filename !== \"function\") {\n\t\t\tconst hasName = filename.includes(\"[name]\");\n\t\t\tconst hasId = filename.includes(\"[id]\");\n\t\t\tconst hasChunkHash = filename.includes(\"[chunkhash]\");\n\t\t\tconst hasContentHash = filename.includes(\"[contenthash]\");\n\t\t\t// Anything changing depending on chunk is fine\n\t\t\tif (hasChunkHash || hasContentHash || hasName || hasId) return filename;\n\t\t\t// Otherwise prefix \"[id].\" in front of the basename to make it changing\n\t\t\treturn filename.replace(/(^|\\/)([^/]*(?:\\?|$))/, \"$1[id].$2\");\n\t\t}\n\t\treturn output.module ? \"[id].mjs\" : \"[id].js\";\n\t});\n\tF(output, \"cssFilename\", () => {\n\t\tconst filename = output.filename;\n\t\tif (typeof filename !== \"function\") {\n\t\t\treturn filename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n\t\t}\n\t\treturn \"[id].css\";\n\t});\n\tF(output, \"cssChunkFilename\", () => {\n\t\tconst chunkFilename = output.chunkFilename;\n\t\tif (typeof chunkFilename !== \"function\") {\n\t\t\treturn chunkFilename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n\t\t}\n\t\treturn \"[id].css\";\n\t});\n\tD(output, \"assetModuleFilename\", \"[hash][ext][query]\");\n\tD(output, \"webassemblyModuleFilename\", \"[hash].module.wasm\");\n\tD(output, \"compareBeforeEmit\", true);\n\tD(output, \"charset\", true);\n\tF(output, \"hotUpdateGlobal\", () =>\n\t\tTemplate.toIdentifier(\n\t\t\t\"webpackHotUpdate\" + Template.toIdentifier(output.uniqueName)\n\t\t)\n\t);\n\tF(output, \"chunkLoadingGlobal\", () =>\n\t\tTemplate.toIdentifier(\n\t\t\t\"webpackChunk\" + Template.toIdentifier(output.uniqueName)\n\t\t)\n\t);\n\tF(output, \"globalObject\", () => {\n\t\tif (tp) {\n\t\t\tif (tp.global) return \"global\";\n\t\t\tif (tp.globalThis) return \"globalThis\";\n\t\t}\n\t\treturn \"self\";\n\t});\n\tF(output, \"chunkFormat\", () => {\n\t\tif (tp) {\n\t\t\tconst helpMessage = isAffectedByBrowserslist\n\t\t\t\t? \"Make sure that your 'browserslist' includes only platforms that support these features or select an appropriate 'target' to allow selecting a chunk format by default. Alternatively specify the 'output.chunkFormat' directly.\"\n\t\t\t\t: \"Select an appropriate 'target' to allow selecting one by default, or specify the 'output.chunkFormat' directly.\";\n\t\t\tif (output.module) {\n\t\t\t\tif (tp.dynamicImport) return \"module\";\n\t\t\t\tif (tp.document) return \"array-push\";\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"For the selected environment is no default ESM chunk format available:\\n\" +\n\t\t\t\t\t\t\"ESM exports can be chosen when 'import()' is available.\\n\" +\n\t\t\t\t\t\t\"JSONP Array push can be chosen when 'document' is available.\\n\" +\n\t\t\t\t\t\thelpMessage\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tif (tp.document) return \"array-push\";\n\t\t\t\tif (tp.require) return \"commonjs\";\n\t\t\t\tif (tp.nodeBuiltins) return \"commonjs\";\n\t\t\t\tif (tp.importScripts) return \"array-push\";\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"For the selected environment is no default script chunk format available:\\n\" +\n\t\t\t\t\t\t\"JSONP Array push can be chosen when 'document' or 'importScripts' is available.\\n\" +\n\t\t\t\t\t\t\"CommonJs exports can be chosen when 'require' or node builtins are available.\\n\" +\n\t\t\t\t\t\thelpMessage\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthrow new Error(\n\t\t\t\"Chunk format can't be selected by default when no target is specified\"\n\t\t);\n\t});\n\tD(output, \"asyncChunks\", true);\n\tF(output, \"chunkLoading\", () => {\n\t\tif (tp) {\n\t\t\tswitch (output.chunkFormat) {\n\t\t\t\tcase \"array-push\":\n\t\t\t\t\tif (tp.document) return \"jsonp\";\n\t\t\t\t\tif (tp.importScripts) return \"import-scripts\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"commonjs\":\n\t\t\t\t\tif (tp.require) return \"require\";\n\t\t\t\t\tif (tp.nodeBuiltins) return \"async-node\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"module\":\n\t\t\t\t\tif (tp.dynamicImport) return \"import\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (\n\t\t\t\ttp.require === null ||\n\t\t\t\ttp.nodeBuiltins === null ||\n\t\t\t\ttp.document === null ||\n\t\t\t\ttp.importScripts === null\n\t\t\t) {\n\t\t\t\treturn \"universal\";\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t});\n\tF(output, \"workerChunkLoading\", () => {\n\t\tif (tp) {\n\t\t\tswitch (output.chunkFormat) {\n\t\t\t\tcase \"array-push\":\n\t\t\t\t\tif (tp.importScriptsInWorker) return \"import-scripts\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"commonjs\":\n\t\t\t\t\tif (tp.require) return \"require\";\n\t\t\t\t\tif (tp.nodeBuiltins) return \"async-node\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"module\":\n\t\t\t\t\tif (tp.dynamicImportInWorker) return \"import\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (\n\t\t\t\ttp.require === null ||\n\t\t\t\ttp.nodeBuiltins === null ||\n\t\t\t\ttp.importScriptsInWorker === null\n\t\t\t) {\n\t\t\t\treturn \"universal\";\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t});\n\tF(output, \"wasmLoading\", () => {\n\t\tif (tp) {\n\t\t\tif (tp.fetchWasm) return \"fetch\";\n\t\t\tif (tp.nodeBuiltins)\n\t\t\t\treturn output.module ? \"async-node-module\" : \"async-node\";\n\t\t\tif (tp.nodeBuiltins === null || tp.fetchWasm === null) {\n\t\t\t\treturn \"universal\";\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t});\n\tF(output, \"workerWasmLoading\", () => output.wasmLoading);\n\tF(output, \"devtoolNamespace\", () => output.uniqueName);\n\tif (output.library) {\n\t\tF(output.library, \"type\", () => (output.module ? \"module\" : \"var\"));\n\t}\n\tF(output, \"path\", () => path.join(process.cwd(), \"dist\"));\n\tF(output, \"pathinfo\", () => development);\n\tD(output, \"sourceMapFilename\", \"[file].map[query]\");\n\tD(\n\t\toutput,\n\t\t\"hotUpdateChunkFilename\",\n\t\t`[id].[fullhash].hot-update.${output.module ? \"mjs\" : \"js\"}`\n\t);\n\tD(output, \"hotUpdateMainFilename\", \"[runtime].[fullhash].hot-update.json\");\n\tD(output, \"crossOriginLoading\", false);\n\tF(output, \"scriptType\", () => (output.module ? \"module\" : false));\n\tD(\n\t\toutput,\n\t\t\"publicPath\",\n\t\t(tp && (tp.document || tp.importScripts)) || output.scriptType === \"module\"\n\t\t\t? \"auto\"\n\t\t\t: \"\"\n\t);\n\tD(output, \"chunkLoadTimeout\", 120000);\n\tD(output, \"hashFunction\", futureDefaults ? \"xxhash64\" : \"md4\");\n\tD(output, \"hashDigest\", \"hex\");\n\tD(output, \"hashDigestLength\", futureDefaults ? 16 : 20);\n\tD(output, \"strictModuleExceptionHandling\", false);\n\n\tconst optimistic = v => v || v === undefined;\n\tconst conditionallyOptimistic = (v, c) => (v === undefined && c) || v;\n\tF(\n\t\toutput.environment,\n\t\t\"arrowFunction\",\n\t\t() => tp && optimistic(tp.arrowFunction)\n\t);\n\tF(output.environment, \"const\", () => tp && optimistic(tp.const));\n\tF(\n\t\toutput.environment,\n\t\t\"destructuring\",\n\t\t() => tp && optimistic(tp.destructuring)\n\t);\n\tF(output.environment, \"forOf\", () => tp && optimistic(tp.forOf));\n\tF(output.environment, \"bigIntLiteral\", () => tp && tp.bigIntLiteral);\n\tF(output.environment, \"dynamicImport\", () =>\n\t\tconditionallyOptimistic(tp && tp.dynamicImport, output.module)\n\t);\n\tF(output.environment, \"module\", () =>\n\t\tconditionallyOptimistic(tp && tp.module, output.module)\n\t);\n\n\tconst { trustedTypes } = output;\n\tif (trustedTypes) {\n\t\tF(\n\t\t\ttrustedTypes,\n\t\t\t\"policyName\",\n\t\t\t() =>\n\t\t\t\toutput.uniqueName.replace(/[^a-zA-Z0-9\\-#=_/@.%]+/g, \"_\") || \"webpack\"\n\t\t);\n\t}\n\n\t/**\n\t * @param {function(EntryDescription): void} fn iterator\n\t * @returns {void}\n\t */\n\tconst forEachEntry = fn => {\n\t\tfor (const name of Object.keys(entry)) {\n\t\t\tfn(entry[name]);\n\t\t}\n\t};\n\tA(output, \"enabledLibraryTypes\", () => {\n\t\tconst enabledLibraryTypes = [];\n\t\tif (output.library) {\n\t\t\tenabledLibraryTypes.push(output.library.type);\n\t\t}\n\t\tforEachEntry(desc => {\n\t\t\tif (desc.library) {\n\t\t\t\tenabledLibraryTypes.push(desc.library.type);\n\t\t\t}\n\t\t});\n\t\treturn enabledLibraryTypes;\n\t});\n\n\tA(output, \"enabledChunkLoadingTypes\", () => {\n\t\tconst enabledChunkLoadingTypes = new Set();\n\t\tif (output.chunkLoading) {\n\t\t\tenabledChunkLoadingTypes.add(output.chunkLoading);\n\t\t}\n\t\tif (output.workerChunkLoading) {\n\t\t\tenabledChunkLoadingTypes.add(output.workerChunkLoading);\n\t\t}\n\t\tforEachEntry(desc => {\n\t\t\tif (desc.chunkLoading) {\n\t\t\t\tenabledChunkLoadingTypes.add(desc.chunkLoading);\n\t\t\t}\n\t\t});\n\t\treturn Array.from(enabledChunkLoadingTypes);\n\t});\n\n\tA(output, \"enabledWasmLoadingTypes\", () => {\n\t\tconst enabledWasmLoadingTypes = new Set();\n\t\tif (output.wasmLoading) {\n\t\t\tenabledWasmLoadingTypes.add(output.wasmLoading);\n\t\t}\n\t\tif (output.workerWasmLoading) {\n\t\t\tenabledWasmLoadingTypes.add(output.workerWasmLoading);\n\t\t}\n\t\tforEachEntry(desc => {\n\t\t\tif (desc.wasmLoading) {\n\t\t\t\tenabledWasmLoadingTypes.add(desc.wasmLoading);\n\t\t\t}\n\t\t});\n\t\treturn Array.from(enabledWasmLoadingTypes);\n\t});\n};\n\n/**\n * @param {ExternalsPresets} externalsPresets options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.buildHttp buildHttp experiment enabled\n * @returns {void}\n */\nconst applyExternalsPresetsDefaults = (\n\texternalsPresets,\n\t{ targetProperties, buildHttp }\n) => {\n\tD(\n\t\texternalsPresets,\n\t\t\"web\",\n\t\t!buildHttp && targetProperties && targetProperties.web\n\t);\n\tD(externalsPresets, \"node\", targetProperties && targetProperties.node);\n\tD(externalsPresets, \"nwjs\", targetProperties && targetProperties.nwjs);\n\tD(\n\t\texternalsPresets,\n\t\t\"electron\",\n\t\ttargetProperties && targetProperties.electron\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"electronMain\",\n\t\ttargetProperties &&\n\t\t\ttargetProperties.electron &&\n\t\t\ttargetProperties.electronMain\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"electronPreload\",\n\t\ttargetProperties &&\n\t\t\ttargetProperties.electron &&\n\t\t\ttargetProperties.electronPreload\n\t);\n\tD(\n\t\texternalsPresets,\n\t\t\"electronRenderer\",\n\t\ttargetProperties &&\n\t\t\ttargetProperties.electron &&\n\t\t\ttargetProperties.electronRenderer\n\t);\n};\n\n/**\n * @param {Loader} loader options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @returns {void}\n */\nconst applyLoaderDefaults = (loader, { targetProperties }) => {\n\tF(loader, \"target\", () => {\n\t\tif (targetProperties) {\n\t\t\tif (targetProperties.electron) {\n\t\t\t\tif (targetProperties.electronMain) return \"electron-main\";\n\t\t\t\tif (targetProperties.electronPreload) return \"electron-preload\";\n\t\t\t\tif (targetProperties.electronRenderer) return \"electron-renderer\";\n\t\t\t\treturn \"electron\";\n\t\t\t}\n\t\t\tif (targetProperties.nwjs) return \"nwjs\";\n\t\t\tif (targetProperties.node) return \"node\";\n\t\t\tif (targetProperties.web) return \"web\";\n\t\t}\n\t});\n};\n\n/**\n * @param {WebpackNode} node options\n * @param {Object} options options\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {boolean} options.futureDefaults is future defaults enabled\n * @returns {void}\n */\nconst applyNodeDefaults = (node, { futureDefaults, targetProperties }) => {\n\tif (node === false) return;\n\n\tF(node, \"global\", () => {\n\t\tif (targetProperties && targetProperties.global) return false;\n\t\t// TODO webpack 6 should always default to false\n\t\treturn futureDefaults ? \"warn\" : true;\n\t});\n\tF(node, \"__filename\", () => {\n\t\tif (targetProperties && targetProperties.node) return \"eval-only\";\n\t\t// TODO webpack 6 should always default to false\n\t\treturn futureDefaults ? \"warn-mock\" : \"mock\";\n\t});\n\tF(node, \"__dirname\", () => {\n\t\tif (targetProperties && targetProperties.node) return \"eval-only\";\n\t\t// TODO webpack 6 should always default to false\n\t\treturn futureDefaults ? \"warn-mock\" : \"mock\";\n\t});\n};\n\n/**\n * @param {Performance} performance options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @returns {void}\n */\nconst applyPerformanceDefaults = (performance, { production }) => {\n\tif (performance === false) return;\n\tD(performance, \"maxAssetSize\", 250000);\n\tD(performance, \"maxEntrypointSize\", 250000);\n\tF(performance, \"hints\", () => (production ? \"warning\" : false));\n};\n\n/**\n * @param {Optimization} optimization options\n * @param {Object} options options\n * @param {boolean} options.production is production\n * @param {boolean} options.development is development\n * @param {CssExperimentOptions} options.css is css enabled\n * @param {boolean} options.records using records\n * @returns {void}\n */\nconst applyOptimizationDefaults = (\n\toptimization,\n\t{ production, development, css, records }\n) => {\n\tD(optimization, \"removeAvailableModules\", false);\n\tD(optimization, \"removeEmptyChunks\", true);\n\tD(optimization, \"mergeDuplicateChunks\", true);\n\tD(optimization, \"flagIncludedChunks\", production);\n\tF(optimization, \"moduleIds\", () => {\n\t\tif (production) return \"deterministic\";\n\t\tif (development) return \"named\";\n\t\treturn \"natural\";\n\t});\n\tF(optimization, \"chunkIds\", () => {\n\t\tif (production) return \"deterministic\";\n\t\tif (development) return \"named\";\n\t\treturn \"natural\";\n\t});\n\tF(optimization, \"sideEffects\", () => (production ? true : \"flag\"));\n\tD(optimization, \"providedExports\", true);\n\tD(optimization, \"usedExports\", production);\n\tD(optimization, \"innerGraph\", production);\n\tD(optimization, \"mangleExports\", production);\n\tD(optimization, \"concatenateModules\", production);\n\tD(optimization, \"runtimeChunk\", false);\n\tD(optimization, \"emitOnErrors\", !production);\n\tD(optimization, \"checkWasmTypes\", production);\n\tD(optimization, \"mangleWasmImports\", false);\n\tD(optimization, \"portableRecords\", records);\n\tD(optimization, \"realContentHash\", production);\n\tD(optimization, \"minimize\", production);\n\tA(optimization, \"minimizer\", () => [\n\t\t{\n\t\t\tapply: compiler => {\n\t\t\t\t// Lazy load the Terser plugin\n\t\t\t\tconst TerserPlugin = require(\"terser-webpack-plugin\");\n\t\t\t\tnew TerserPlugin({\n\t\t\t\t\tterserOptions: {\n\t\t\t\t\t\tcompress: {\n\t\t\t\t\t\t\tpasses: 2\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}).apply(compiler);\n\t\t\t}\n\t\t}\n\t]);\n\tF(optimization, \"nodeEnv\", () => {\n\t\tif (production) return \"production\";\n\t\tif (development) return \"development\";\n\t\treturn false;\n\t});\n\tconst { splitChunks } = optimization;\n\tif (splitChunks) {\n\t\tA(splitChunks, \"defaultSizeTypes\", () =>\n\t\t\tcss ? [\"javascript\", \"css\", \"unknown\"] : [\"javascript\", \"unknown\"]\n\t\t);\n\t\tD(splitChunks, \"hidePathInfo\", production);\n\t\tD(splitChunks, \"chunks\", \"async\");\n\t\tD(splitChunks, \"usedExports\", optimization.usedExports === true);\n\t\tD(splitChunks, \"minChunks\", 1);\n\t\tF(splitChunks, \"minSize\", () => (production ? 20000 : 10000));\n\t\tF(splitChunks, \"minRemainingSize\", () => (development ? 0 : undefined));\n\t\tF(splitChunks, \"enforceSizeThreshold\", () => (production ? 50000 : 30000));\n\t\tF(splitChunks, \"maxAsyncRequests\", () => (production ? 30 : Infinity));\n\t\tF(splitChunks, \"maxInitialRequests\", () => (production ? 30 : Infinity));\n\t\tD(splitChunks, \"automaticNameDelimiter\", \"-\");\n\t\tconst { cacheGroups } = splitChunks;\n\t\tF(cacheGroups, \"default\", () => ({\n\t\t\tidHint: \"\",\n\t\t\treuseExistingChunk: true,\n\t\t\tminChunks: 2,\n\t\t\tpriority: -20\n\t\t}));\n\t\tF(cacheGroups, \"defaultVendors\", () => ({\n\t\t\tidHint: \"vendors\",\n\t\t\treuseExistingChunk: true,\n\t\t\ttest: NODE_MODULES_REGEXP,\n\t\t\tpriority: -10\n\t\t}));\n\t}\n};\n\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @param {string} options.context build context\n * @param {TargetProperties | false} options.targetProperties target properties\n * @param {Mode} options.mode mode\n * @returns {ResolveOptions} resolve options\n */\nconst getResolveDefaults = ({ cache, context, targetProperties, mode }) => {\n\t/** @type {string[]} */\n\tconst conditions = [\"webpack\"];\n\n\tconditions.push(mode === \"development\" ? \"development\" : \"production\");\n\n\tif (targetProperties) {\n\t\tif (targetProperties.webworker) conditions.push(\"worker\");\n\t\tif (targetProperties.node) conditions.push(\"node\");\n\t\tif (targetProperties.web) conditions.push(\"browser\");\n\t\tif (targetProperties.electron) conditions.push(\"electron\");\n\t\tif (targetProperties.nwjs) conditions.push(\"nwjs\");\n\t}\n\n\tconst jsExtensions = [\".js\", \".json\", \".wasm\"];\n\n\tconst tp = targetProperties;\n\tconst browserField =\n\t\ttp && tp.web && (!tp.node || (tp.electron && tp.electronRenderer));\n\n\t/** @type {function(): ResolveOptions} */\n\tconst cjsDeps = () => ({\n\t\taliasFields: browserField ? [\"browser\"] : [],\n\t\tmainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n\t\tconditionNames: [\"require\", \"module\", \"...\"],\n\t\textensions: [...jsExtensions]\n\t});\n\t/** @type {function(): ResolveOptions} */\n\tconst esmDeps = () => ({\n\t\taliasFields: browserField ? [\"browser\"] : [],\n\t\tmainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n\t\tconditionNames: [\"import\", \"module\", \"...\"],\n\t\textensions: [...jsExtensions]\n\t});\n\n\t/** @type {ResolveOptions} */\n\tconst resolveOptions = {\n\t\tcache,\n\t\tmodules: [\"node_modules\"],\n\t\tconditionNames: conditions,\n\t\tmainFiles: [\"index\"],\n\t\textensions: [],\n\t\taliasFields: [],\n\t\texportsFields: [\"exports\"],\n\t\troots: [context],\n\t\tmainFields: [\"main\"],\n\t\tbyDependency: {\n\t\t\twasm: esmDeps(),\n\t\t\tesm: esmDeps(),\n\t\t\tloaderImport: esmDeps(),\n\t\t\turl: {\n\t\t\t\tpreferRelative: true\n\t\t\t},\n\t\t\tworker: {\n\t\t\t\t...esmDeps(),\n\t\t\t\tpreferRelative: true\n\t\t\t},\n\t\t\tcommonjs: cjsDeps(),\n\t\t\tamd: cjsDeps(),\n\t\t\t// for backward-compat: loadModule\n\t\t\tloader: cjsDeps(),\n\t\t\t// for backward-compat: Custom Dependency\n\t\t\tunknown: cjsDeps(),\n\t\t\t// for backward-compat: getResolve without dependencyType\n\t\t\tundefined: cjsDeps()\n\t\t}\n\t};\n\n\treturn resolveOptions;\n};\n\n/**\n * @param {Object} options options\n * @param {boolean} options.cache is cache enable\n * @returns {ResolveOptions} resolve options\n */\nconst getResolveLoaderDefaults = ({ cache }) => {\n\t/** @type {ResolveOptions} */\n\tconst resolveOptions = {\n\t\tcache,\n\t\tconditionNames: [\"loader\", \"require\", \"node\"],\n\t\texportsFields: [\"exports\"],\n\t\tmainFields: [\"loader\", \"main\"],\n\t\textensions: [\".js\"],\n\t\tmainFiles: [\"index\"]\n\t};\n\n\treturn resolveOptions;\n};\n\n/**\n * @param {InfrastructureLogging} infrastructureLogging options\n * @returns {void}\n */\nconst applyInfrastructureLoggingDefaults = infrastructureLogging => {\n\tF(infrastructureLogging, \"stream\", () => process.stderr);\n\tconst tty =\n\t\t/** @type {any} */ (infrastructureLogging.stream).isTTY &&\n\t\tprocess.env.TERM !== \"dumb\";\n\tD(infrastructureLogging, \"level\", \"info\");\n\tD(infrastructureLogging, \"debug\", false);\n\tD(infrastructureLogging, \"colors\", tty);\n\tD(infrastructureLogging, \"appendOnly\", !tty);\n};\n\nexports.applyWebpackOptionsBaseDefaults = applyWebpackOptionsBaseDefaults;\nexports.applyWebpackOptionsDefaults = applyWebpackOptionsDefaults;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}