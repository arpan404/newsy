{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst PureExpressionDependency = require(\"../dependencies/PureExpressionDependency\");\n\nconst InnerGraph = require(\"./InnerGraph\");\n/** @typedef {import(\"estree\").ClassDeclaration} ClassDeclarationNode */\n\n/** @typedef {import(\"estree\").ClassExpression} ClassExpressionNode */\n\n/** @typedef {import(\"estree\").Node} Node */\n\n/** @typedef {import(\"estree\").VariableDeclarator} VariableDeclaratorNode */\n\n/** @typedef {import(\"../Compiler\")} Compiler */\n\n/** @typedef {import(\"../Dependency\")} Dependency */\n\n/** @typedef {import(\"../dependencies/HarmonyImportSpecifierDependency\")} HarmonyImportSpecifierDependency */\n\n/** @typedef {import(\"../javascript/JavascriptParser\")} JavascriptParser */\n\n/** @typedef {import(\"./InnerGraph\").InnerGraph} InnerGraph */\n\n/** @typedef {import(\"./InnerGraph\").TopLevelSymbol} TopLevelSymbol */\n\n\nconst {\n  topLevelSymbolTag\n} = InnerGraph;\n\nclass InnerGraphPlugin {\n  /**\n   * Apply the plugin\n   * @param {Compiler} compiler the compiler instance\n   * @returns {void}\n   */\n  apply(compiler) {\n    compiler.hooks.compilation.tap(\"InnerGraphPlugin\", (compilation, _ref) => {\n      let {\n        normalModuleFactory\n      } = _ref;\n      const logger = compilation.getLogger(\"webpack.InnerGraphPlugin\");\n      compilation.dependencyTemplates.set(PureExpressionDependency, new PureExpressionDependency.Template());\n      /**\n       * @param {JavascriptParser} parser the parser\n       * @param {Object} parserOptions options\n       * @returns {void}\n       */\n\n      const handler = (parser, parserOptions) => {\n        const onUsageSuper = sup => {\n          InnerGraph.onUsage(parser.state, usedByExports => {\n            switch (usedByExports) {\n              case undefined:\n              case true:\n                return;\n\n              default:\n                {\n                  const dep = new PureExpressionDependency(sup.range);\n                  dep.loc = sup.loc;\n                  dep.usedByExports = usedByExports;\n                  parser.state.module.addDependency(dep);\n                  break;\n                }\n            }\n          });\n        };\n\n        parser.hooks.program.tap(\"InnerGraphPlugin\", () => {\n          InnerGraph.enable(parser.state);\n        });\n        parser.hooks.finish.tap(\"InnerGraphPlugin\", () => {\n          if (!InnerGraph.isEnabled(parser.state)) return;\n          logger.time(\"infer dependency usage\");\n          InnerGraph.inferDependencyUsage(parser.state);\n          logger.timeAggregate(\"infer dependency usage\");\n        }); // During prewalking the following datastructures are filled with\n        // nodes that have a TopLevelSymbol assigned and\n        // variables are tagged with the assigned TopLevelSymbol\n        // We differ 3 types of nodes:\n        // 1. full statements (export default, function declaration)\n        // 2. classes (class declaration, class expression)\n        // 3. variable declarators (const x = ...)\n\n        /** @type {WeakMap<Node, TopLevelSymbol>} */\n\n        const statementWithTopLevelSymbol = new WeakMap();\n        /** @type {WeakMap<Node, Node>} */\n\n        const statementPurePart = new WeakMap();\n        /** @type {WeakMap<ClassExpressionNode | ClassDeclarationNode, TopLevelSymbol>} */\n\n        const classWithTopLevelSymbol = new WeakMap();\n        /** @type {WeakMap<VariableDeclaratorNode, TopLevelSymbol>} */\n\n        const declWithTopLevelSymbol = new WeakMap();\n        /** @type {WeakSet<VariableDeclaratorNode>} */\n\n        const pureDeclarators = new WeakSet(); // The following hooks are used during prewalking:\n\n        parser.hooks.preStatement.tap(\"InnerGraphPlugin\", statement => {\n          if (!InnerGraph.isEnabled(parser.state)) return;\n\n          if (parser.scope.topLevelScope === true) {\n            if (statement.type === \"FunctionDeclaration\") {\n              const name = statement.id ? statement.id.name : \"*default*\";\n              const fn = InnerGraph.tagTopLevelSymbol(parser, name);\n              statementWithTopLevelSymbol.set(statement, fn);\n              return true;\n            }\n          }\n        });\n        parser.hooks.blockPreStatement.tap(\"InnerGraphPlugin\", statement => {\n          if (!InnerGraph.isEnabled(parser.state)) return;\n\n          if (parser.scope.topLevelScope === true) {\n            if (statement.type === \"ClassDeclaration\") {\n              const name = statement.id ? statement.id.name : \"*default*\";\n              const fn = InnerGraph.tagTopLevelSymbol(parser, name);\n              classWithTopLevelSymbol.set(statement, fn);\n              return true;\n            }\n\n            if (statement.type === \"ExportDefaultDeclaration\") {\n              const name = \"*default*\";\n              const fn = InnerGraph.tagTopLevelSymbol(parser, name);\n              const decl = statement.declaration;\n\n              if (decl.type === \"ClassExpression\" || decl.type === \"ClassDeclaration\") {\n                classWithTopLevelSymbol.set(decl, fn);\n              } else if (parser.isPure(decl, statement.range[0])) {\n                statementWithTopLevelSymbol.set(statement, fn);\n\n                if (!decl.type.endsWith(\"FunctionExpression\") && !decl.type.endsWith(\"Declaration\") && decl.type !== \"Literal\") {\n                  statementPurePart.set(statement, decl);\n                }\n              }\n            }\n          }\n        });\n        parser.hooks.preDeclarator.tap(\"InnerGraphPlugin\", (decl, statement) => {\n          if (!InnerGraph.isEnabled(parser.state)) return;\n\n          if (parser.scope.topLevelScope === true && decl.init && decl.id.type === \"Identifier\") {\n            const name = decl.id.name;\n\n            if (decl.init.type === \"ClassExpression\") {\n              const fn = InnerGraph.tagTopLevelSymbol(parser, name);\n              classWithTopLevelSymbol.set(decl.init, fn);\n            } else if (parser.isPure(decl.init, decl.id.range[1])) {\n              const fn = InnerGraph.tagTopLevelSymbol(parser, name);\n              declWithTopLevelSymbol.set(decl, fn);\n\n              if (!decl.init.type.endsWith(\"FunctionExpression\") && decl.init.type !== \"Literal\") {\n                pureDeclarators.add(decl);\n              }\n\n              return true;\n            }\n          }\n        }); // During real walking we set the TopLevelSymbol state to the assigned\n        // TopLevelSymbol by using the fill datastructures.\n        // In addition to tracking TopLevelSymbols, we sometimes need to\n        // add a PureExpressionDependency. This is needed to skip execution\n        // of pure expressions, even when they are not dropped due to\n        // minimizing. Otherwise symbols used there might not exist anymore\n        // as they are removed as unused by this optimization\n        // When we find a reference to a TopLevelSymbol, we register a\n        // TopLevelSymbol dependency from TopLevelSymbol in state to the\n        // referenced TopLevelSymbol. This way we get a graph of all\n        // TopLevelSymbols.\n        // The following hooks are called during walking:\n\n        parser.hooks.statement.tap(\"InnerGraphPlugin\", statement => {\n          if (!InnerGraph.isEnabled(parser.state)) return;\n\n          if (parser.scope.topLevelScope === true) {\n            InnerGraph.setTopLevelSymbol(parser.state, undefined);\n            const fn = statementWithTopLevelSymbol.get(statement);\n\n            if (fn) {\n              InnerGraph.setTopLevelSymbol(parser.state, fn);\n              const purePart = statementPurePart.get(statement);\n\n              if (purePart) {\n                InnerGraph.onUsage(parser.state, usedByExports => {\n                  switch (usedByExports) {\n                    case undefined:\n                    case true:\n                      return;\n\n                    default:\n                      {\n                        const dep = new PureExpressionDependency(purePart.range);\n                        dep.loc = statement.loc;\n                        dep.usedByExports = usedByExports;\n                        parser.state.module.addDependency(dep);\n                        break;\n                      }\n                  }\n                });\n              }\n            }\n          }\n        });\n        parser.hooks.classExtendsExpression.tap(\"InnerGraphPlugin\", (expr, statement) => {\n          if (!InnerGraph.isEnabled(parser.state)) return;\n\n          if (parser.scope.topLevelScope === true) {\n            const fn = classWithTopLevelSymbol.get(statement);\n\n            if (fn && parser.isPure(expr, statement.id ? statement.id.range[1] : statement.range[0])) {\n              InnerGraph.setTopLevelSymbol(parser.state, fn);\n              onUsageSuper(expr);\n            }\n          }\n        });\n        parser.hooks.classBodyElement.tap(\"InnerGraphPlugin\", (element, classDefinition) => {\n          if (!InnerGraph.isEnabled(parser.state)) return;\n\n          if (parser.scope.topLevelScope === true) {\n            const fn = classWithTopLevelSymbol.get(classDefinition);\n\n            if (fn) {\n              InnerGraph.setTopLevelSymbol(parser.state, undefined);\n            }\n          }\n        });\n        parser.hooks.classBodyValue.tap(\"InnerGraphPlugin\", (expression, element, classDefinition) => {\n          if (!InnerGraph.isEnabled(parser.state)) return;\n\n          if (parser.scope.topLevelScope === true) {\n            const fn = classWithTopLevelSymbol.get(classDefinition);\n\n            if (fn) {\n              if (!element.static || parser.isPure(expression, element.key ? element.key.range[1] : element.range[0])) {\n                InnerGraph.setTopLevelSymbol(parser.state, fn);\n\n                if (element.type !== \"MethodDefinition\" && element.static) {\n                  InnerGraph.onUsage(parser.state, usedByExports => {\n                    switch (usedByExports) {\n                      case undefined:\n                      case true:\n                        return;\n\n                      default:\n                        {\n                          const dep = new PureExpressionDependency(expression.range);\n                          dep.loc = expression.loc;\n                          dep.usedByExports = usedByExports;\n                          parser.state.module.addDependency(dep);\n                          break;\n                        }\n                    }\n                  });\n                }\n              } else {\n                InnerGraph.setTopLevelSymbol(parser.state, undefined);\n              }\n            }\n          }\n        });\n        parser.hooks.declarator.tap(\"InnerGraphPlugin\", (decl, statement) => {\n          if (!InnerGraph.isEnabled(parser.state)) return;\n          const fn = declWithTopLevelSymbol.get(decl);\n\n          if (fn) {\n            InnerGraph.setTopLevelSymbol(parser.state, fn);\n\n            if (pureDeclarators.has(decl)) {\n              if (decl.init.type === \"ClassExpression\") {\n                if (decl.init.superClass) {\n                  onUsageSuper(decl.init.superClass);\n                }\n              } else {\n                InnerGraph.onUsage(parser.state, usedByExports => {\n                  switch (usedByExports) {\n                    case undefined:\n                    case true:\n                      return;\n\n                    default:\n                      {\n                        const dep = new PureExpressionDependency(decl.init.range);\n                        dep.loc = decl.loc;\n                        dep.usedByExports = usedByExports;\n                        parser.state.module.addDependency(dep);\n                        break;\n                      }\n                  }\n                });\n              }\n            }\n\n            parser.walkExpression(decl.init);\n            InnerGraph.setTopLevelSymbol(parser.state, undefined);\n            return true;\n          }\n        });\n        parser.hooks.expression.for(topLevelSymbolTag).tap(\"InnerGraphPlugin\", () => {\n          const topLevelSymbol =\n          /** @type {TopLevelSymbol} */\n          parser.currentTagData;\n          const currentTopLevelSymbol = InnerGraph.getTopLevelSymbol(parser.state);\n          InnerGraph.addUsage(parser.state, topLevelSymbol, currentTopLevelSymbol || true);\n        });\n        parser.hooks.assign.for(topLevelSymbolTag).tap(\"InnerGraphPlugin\", expr => {\n          if (!InnerGraph.isEnabled(parser.state)) return;\n          if (expr.operator === \"=\") return true;\n        });\n      };\n\n      normalModuleFactory.hooks.parser.for(\"javascript/auto\").tap(\"InnerGraphPlugin\", handler);\n      normalModuleFactory.hooks.parser.for(\"javascript/esm\").tap(\"InnerGraphPlugin\", handler);\n      compilation.hooks.finishModules.tap(\"InnerGraphPlugin\", () => {\n        logger.timeAggregateEnd(\"infer dependency usage\");\n      });\n    });\n  }\n\n}\n\nmodule.exports = InnerGraphPlugin;","map":{"version":3,"names":["PureExpressionDependency","require","InnerGraph","topLevelSymbolTag","InnerGraphPlugin","apply","compiler","hooks","compilation","tap","normalModuleFactory","logger","getLogger","dependencyTemplates","set","Template","handler","parser","parserOptions","onUsageSuper","sup","onUsage","state","usedByExports","undefined","dep","range","loc","module","addDependency","program","enable","finish","isEnabled","time","inferDependencyUsage","timeAggregate","statementWithTopLevelSymbol","WeakMap","statementPurePart","classWithTopLevelSymbol","declWithTopLevelSymbol","pureDeclarators","WeakSet","preStatement","statement","scope","topLevelScope","type","name","id","fn","tagTopLevelSymbol","blockPreStatement","decl","declaration","isPure","endsWith","preDeclarator","init","add","setTopLevelSymbol","get","purePart","classExtendsExpression","expr","classBodyElement","element","classDefinition","classBodyValue","expression","static","key","declarator","has","superClass","walkExpression","for","topLevelSymbol","currentTagData","currentTopLevelSymbol","getTopLevelSymbol","addUsage","assign","operator","finishModules","timeAggregateEnd","exports"],"sources":["/Users/arpanbhandari/Documents/cod-ing/React/newsapp/node_modules/webpack/lib/optimize/InnerGraphPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst PureExpressionDependency = require(\"../dependencies/PureExpressionDependency\");\nconst InnerGraph = require(\"./InnerGraph\");\n\n/** @typedef {import(\"estree\").ClassDeclaration} ClassDeclarationNode */\n/** @typedef {import(\"estree\").ClassExpression} ClassExpressionNode */\n/** @typedef {import(\"estree\").Node} Node */\n/** @typedef {import(\"estree\").VariableDeclarator} VariableDeclaratorNode */\n/** @typedef {import(\"../Compiler\")} Compiler */\n/** @typedef {import(\"../Dependency\")} Dependency */\n/** @typedef {import(\"../dependencies/HarmonyImportSpecifierDependency\")} HarmonyImportSpecifierDependency */\n/** @typedef {import(\"../javascript/JavascriptParser\")} JavascriptParser */\n/** @typedef {import(\"./InnerGraph\").InnerGraph} InnerGraph */\n/** @typedef {import(\"./InnerGraph\").TopLevelSymbol} TopLevelSymbol */\n\nconst { topLevelSymbolTag } = InnerGraph;\n\nclass InnerGraphPlugin {\n\t/**\n\t * Apply the plugin\n\t * @param {Compiler} compiler the compiler instance\n\t * @returns {void}\n\t */\n\tapply(compiler) {\n\t\tcompiler.hooks.compilation.tap(\n\t\t\t\"InnerGraphPlugin\",\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tconst logger = compilation.getLogger(\"webpack.InnerGraphPlugin\");\n\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tPureExpressionDependency,\n\t\t\t\t\tnew PureExpressionDependency.Template()\n\t\t\t\t);\n\n\t\t\t\t/**\n\t\t\t\t * @param {JavascriptParser} parser the parser\n\t\t\t\t * @param {Object} parserOptions options\n\t\t\t\t * @returns {void}\n\t\t\t\t */\n\t\t\t\tconst handler = (parser, parserOptions) => {\n\t\t\t\t\tconst onUsageSuper = sup => {\n\t\t\t\t\t\tInnerGraph.onUsage(parser.state, usedByExports => {\n\t\t\t\t\t\t\tswitch (usedByExports) {\n\t\t\t\t\t\t\t\tcase undefined:\n\t\t\t\t\t\t\t\tcase true:\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\tconst dep = new PureExpressionDependency(sup.range);\n\t\t\t\t\t\t\t\t\tdep.loc = sup.loc;\n\t\t\t\t\t\t\t\t\tdep.usedByExports = usedByExports;\n\t\t\t\t\t\t\t\t\tparser.state.module.addDependency(dep);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tparser.hooks.program.tap(\"InnerGraphPlugin\", () => {\n\t\t\t\t\t\tInnerGraph.enable(parser.state);\n\t\t\t\t\t});\n\n\t\t\t\t\tparser.hooks.finish.tap(\"InnerGraphPlugin\", () => {\n\t\t\t\t\t\tif (!InnerGraph.isEnabled(parser.state)) return;\n\n\t\t\t\t\t\tlogger.time(\"infer dependency usage\");\n\t\t\t\t\t\tInnerGraph.inferDependencyUsage(parser.state);\n\t\t\t\t\t\tlogger.timeAggregate(\"infer dependency usage\");\n\t\t\t\t\t});\n\n\t\t\t\t\t// During prewalking the following datastructures are filled with\n\t\t\t\t\t// nodes that have a TopLevelSymbol assigned and\n\t\t\t\t\t// variables are tagged with the assigned TopLevelSymbol\n\n\t\t\t\t\t// We differ 3 types of nodes:\n\t\t\t\t\t// 1. full statements (export default, function declaration)\n\t\t\t\t\t// 2. classes (class declaration, class expression)\n\t\t\t\t\t// 3. variable declarators (const x = ...)\n\n\t\t\t\t\t/** @type {WeakMap<Node, TopLevelSymbol>} */\n\t\t\t\t\tconst statementWithTopLevelSymbol = new WeakMap();\n\t\t\t\t\t/** @type {WeakMap<Node, Node>} */\n\t\t\t\t\tconst statementPurePart = new WeakMap();\n\n\t\t\t\t\t/** @type {WeakMap<ClassExpressionNode | ClassDeclarationNode, TopLevelSymbol>} */\n\t\t\t\t\tconst classWithTopLevelSymbol = new WeakMap();\n\n\t\t\t\t\t/** @type {WeakMap<VariableDeclaratorNode, TopLevelSymbol>} */\n\t\t\t\t\tconst declWithTopLevelSymbol = new WeakMap();\n\t\t\t\t\t/** @type {WeakSet<VariableDeclaratorNode>} */\n\t\t\t\t\tconst pureDeclarators = new WeakSet();\n\n\t\t\t\t\t// The following hooks are used during prewalking:\n\n\t\t\t\t\tparser.hooks.preStatement.tap(\"InnerGraphPlugin\", statement => {\n\t\t\t\t\t\tif (!InnerGraph.isEnabled(parser.state)) return;\n\n\t\t\t\t\t\tif (parser.scope.topLevelScope === true) {\n\t\t\t\t\t\t\tif (statement.type === \"FunctionDeclaration\") {\n\t\t\t\t\t\t\t\tconst name = statement.id ? statement.id.name : \"*default*\";\n\t\t\t\t\t\t\t\tconst fn = InnerGraph.tagTopLevelSymbol(parser, name);\n\t\t\t\t\t\t\t\tstatementWithTopLevelSymbol.set(statement, fn);\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tparser.hooks.blockPreStatement.tap(\"InnerGraphPlugin\", statement => {\n\t\t\t\t\t\tif (!InnerGraph.isEnabled(parser.state)) return;\n\n\t\t\t\t\t\tif (parser.scope.topLevelScope === true) {\n\t\t\t\t\t\t\tif (statement.type === \"ClassDeclaration\") {\n\t\t\t\t\t\t\t\tconst name = statement.id ? statement.id.name : \"*default*\";\n\t\t\t\t\t\t\t\tconst fn = InnerGraph.tagTopLevelSymbol(parser, name);\n\t\t\t\t\t\t\t\tclassWithTopLevelSymbol.set(statement, fn);\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (statement.type === \"ExportDefaultDeclaration\") {\n\t\t\t\t\t\t\t\tconst name = \"*default*\";\n\t\t\t\t\t\t\t\tconst fn = InnerGraph.tagTopLevelSymbol(parser, name);\n\t\t\t\t\t\t\t\tconst decl = statement.declaration;\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tdecl.type === \"ClassExpression\" ||\n\t\t\t\t\t\t\t\t\tdecl.type === \"ClassDeclaration\"\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tclassWithTopLevelSymbol.set(decl, fn);\n\t\t\t\t\t\t\t\t} else if (parser.isPure(decl, statement.range[0])) {\n\t\t\t\t\t\t\t\t\tstatementWithTopLevelSymbol.set(statement, fn);\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t!decl.type.endsWith(\"FunctionExpression\") &&\n\t\t\t\t\t\t\t\t\t\t!decl.type.endsWith(\"Declaration\") &&\n\t\t\t\t\t\t\t\t\t\tdecl.type !== \"Literal\"\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tstatementPurePart.set(statement, decl);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tparser.hooks.preDeclarator.tap(\n\t\t\t\t\t\t\"InnerGraphPlugin\",\n\t\t\t\t\t\t(decl, statement) => {\n\t\t\t\t\t\t\tif (!InnerGraph.isEnabled(parser.state)) return;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tparser.scope.topLevelScope === true &&\n\t\t\t\t\t\t\t\tdecl.init &&\n\t\t\t\t\t\t\t\tdecl.id.type === \"Identifier\"\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tconst name = decl.id.name;\n\t\t\t\t\t\t\t\tif (decl.init.type === \"ClassExpression\") {\n\t\t\t\t\t\t\t\t\tconst fn = InnerGraph.tagTopLevelSymbol(parser, name);\n\t\t\t\t\t\t\t\t\tclassWithTopLevelSymbol.set(decl.init, fn);\n\t\t\t\t\t\t\t\t} else if (parser.isPure(decl.init, decl.id.range[1])) {\n\t\t\t\t\t\t\t\t\tconst fn = InnerGraph.tagTopLevelSymbol(parser, name);\n\t\t\t\t\t\t\t\t\tdeclWithTopLevelSymbol.set(decl, fn);\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t!decl.init.type.endsWith(\"FunctionExpression\") &&\n\t\t\t\t\t\t\t\t\t\tdecl.init.type !== \"Literal\"\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tpureDeclarators.add(decl);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\t// During real walking we set the TopLevelSymbol state to the assigned\n\t\t\t\t\t// TopLevelSymbol by using the fill datastructures.\n\n\t\t\t\t\t// In addition to tracking TopLevelSymbols, we sometimes need to\n\t\t\t\t\t// add a PureExpressionDependency. This is needed to skip execution\n\t\t\t\t\t// of pure expressions, even when they are not dropped due to\n\t\t\t\t\t// minimizing. Otherwise symbols used there might not exist anymore\n\t\t\t\t\t// as they are removed as unused by this optimization\n\n\t\t\t\t\t// When we find a reference to a TopLevelSymbol, we register a\n\t\t\t\t\t// TopLevelSymbol dependency from TopLevelSymbol in state to the\n\t\t\t\t\t// referenced TopLevelSymbol. This way we get a graph of all\n\t\t\t\t\t// TopLevelSymbols.\n\n\t\t\t\t\t// The following hooks are called during walking:\n\n\t\t\t\t\tparser.hooks.statement.tap(\"InnerGraphPlugin\", statement => {\n\t\t\t\t\t\tif (!InnerGraph.isEnabled(parser.state)) return;\n\t\t\t\t\t\tif (parser.scope.topLevelScope === true) {\n\t\t\t\t\t\t\tInnerGraph.setTopLevelSymbol(parser.state, undefined);\n\n\t\t\t\t\t\t\tconst fn = statementWithTopLevelSymbol.get(statement);\n\t\t\t\t\t\t\tif (fn) {\n\t\t\t\t\t\t\t\tInnerGraph.setTopLevelSymbol(parser.state, fn);\n\t\t\t\t\t\t\t\tconst purePart = statementPurePart.get(statement);\n\t\t\t\t\t\t\t\tif (purePart) {\n\t\t\t\t\t\t\t\t\tInnerGraph.onUsage(parser.state, usedByExports => {\n\t\t\t\t\t\t\t\t\t\tswitch (usedByExports) {\n\t\t\t\t\t\t\t\t\t\t\tcase undefined:\n\t\t\t\t\t\t\t\t\t\t\tcase true:\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t\tconst dep = new PureExpressionDependency(\n\t\t\t\t\t\t\t\t\t\t\t\t\tpurePart.range\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\tdep.loc = statement.loc;\n\t\t\t\t\t\t\t\t\t\t\t\tdep.usedByExports = usedByExports;\n\t\t\t\t\t\t\t\t\t\t\t\tparser.state.module.addDependency(dep);\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tparser.hooks.classExtendsExpression.tap(\n\t\t\t\t\t\t\"InnerGraphPlugin\",\n\t\t\t\t\t\t(expr, statement) => {\n\t\t\t\t\t\t\tif (!InnerGraph.isEnabled(parser.state)) return;\n\t\t\t\t\t\t\tif (parser.scope.topLevelScope === true) {\n\t\t\t\t\t\t\t\tconst fn = classWithTopLevelSymbol.get(statement);\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tfn &&\n\t\t\t\t\t\t\t\t\tparser.isPure(\n\t\t\t\t\t\t\t\t\t\texpr,\n\t\t\t\t\t\t\t\t\t\tstatement.id ? statement.id.range[1] : statement.range[0]\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tInnerGraph.setTopLevelSymbol(parser.state, fn);\n\t\t\t\t\t\t\t\t\tonUsageSuper(expr);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\tparser.hooks.classBodyElement.tap(\n\t\t\t\t\t\t\"InnerGraphPlugin\",\n\t\t\t\t\t\t(element, classDefinition) => {\n\t\t\t\t\t\t\tif (!InnerGraph.isEnabled(parser.state)) return;\n\t\t\t\t\t\t\tif (parser.scope.topLevelScope === true) {\n\t\t\t\t\t\t\t\tconst fn = classWithTopLevelSymbol.get(classDefinition);\n\t\t\t\t\t\t\t\tif (fn) {\n\t\t\t\t\t\t\t\t\tInnerGraph.setTopLevelSymbol(parser.state, undefined);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\tparser.hooks.classBodyValue.tap(\n\t\t\t\t\t\t\"InnerGraphPlugin\",\n\t\t\t\t\t\t(expression, element, classDefinition) => {\n\t\t\t\t\t\t\tif (!InnerGraph.isEnabled(parser.state)) return;\n\t\t\t\t\t\t\tif (parser.scope.topLevelScope === true) {\n\t\t\t\t\t\t\t\tconst fn = classWithTopLevelSymbol.get(classDefinition);\n\t\t\t\t\t\t\t\tif (fn) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t!element.static ||\n\t\t\t\t\t\t\t\t\t\tparser.isPure(\n\t\t\t\t\t\t\t\t\t\t\texpression,\n\t\t\t\t\t\t\t\t\t\t\telement.key ? element.key.range[1] : element.range[0]\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tInnerGraph.setTopLevelSymbol(parser.state, fn);\n\t\t\t\t\t\t\t\t\t\tif (element.type !== \"MethodDefinition\" && element.static) {\n\t\t\t\t\t\t\t\t\t\t\tInnerGraph.onUsage(parser.state, usedByExports => {\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (usedByExports) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase undefined:\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase true:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst dep = new PureExpressionDependency(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texpression.range\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdep.loc = expression.loc;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdep.usedByExports = usedByExports;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparser.state.module.addDependency(dep);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tInnerGraph.setTopLevelSymbol(parser.state, undefined);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\tparser.hooks.declarator.tap(\"InnerGraphPlugin\", (decl, statement) => {\n\t\t\t\t\t\tif (!InnerGraph.isEnabled(parser.state)) return;\n\t\t\t\t\t\tconst fn = declWithTopLevelSymbol.get(decl);\n\n\t\t\t\t\t\tif (fn) {\n\t\t\t\t\t\t\tInnerGraph.setTopLevelSymbol(parser.state, fn);\n\t\t\t\t\t\t\tif (pureDeclarators.has(decl)) {\n\t\t\t\t\t\t\t\tif (decl.init.type === \"ClassExpression\") {\n\t\t\t\t\t\t\t\t\tif (decl.init.superClass) {\n\t\t\t\t\t\t\t\t\t\tonUsageSuper(decl.init.superClass);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tInnerGraph.onUsage(parser.state, usedByExports => {\n\t\t\t\t\t\t\t\t\t\tswitch (usedByExports) {\n\t\t\t\t\t\t\t\t\t\t\tcase undefined:\n\t\t\t\t\t\t\t\t\t\t\tcase true:\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t\tconst dep = new PureExpressionDependency(\n\t\t\t\t\t\t\t\t\t\t\t\t\tdecl.init.range\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\tdep.loc = decl.loc;\n\t\t\t\t\t\t\t\t\t\t\t\tdep.usedByExports = usedByExports;\n\t\t\t\t\t\t\t\t\t\t\t\tparser.state.module.addDependency(dep);\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparser.walkExpression(decl.init);\n\t\t\t\t\t\t\tInnerGraph.setTopLevelSymbol(parser.state, undefined);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tparser.hooks.expression\n\t\t\t\t\t\t.for(topLevelSymbolTag)\n\t\t\t\t\t\t.tap(\"InnerGraphPlugin\", () => {\n\t\t\t\t\t\t\tconst topLevelSymbol = /** @type {TopLevelSymbol} */ (\n\t\t\t\t\t\t\t\tparser.currentTagData\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst currentTopLevelSymbol = InnerGraph.getTopLevelSymbol(\n\t\t\t\t\t\t\t\tparser.state\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tInnerGraph.addUsage(\n\t\t\t\t\t\t\t\tparser.state,\n\t\t\t\t\t\t\t\ttopLevelSymbol,\n\t\t\t\t\t\t\t\tcurrentTopLevelSymbol || true\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\tparser.hooks.assign\n\t\t\t\t\t\t.for(topLevelSymbolTag)\n\t\t\t\t\t\t.tap(\"InnerGraphPlugin\", expr => {\n\t\t\t\t\t\t\tif (!InnerGraph.isEnabled(parser.state)) return;\n\t\t\t\t\t\t\tif (expr.operator === \"=\") return true;\n\t\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tnormalModuleFactory.hooks.parser\n\t\t\t\t\t.for(\"javascript/auto\")\n\t\t\t\t\t.tap(\"InnerGraphPlugin\", handler);\n\t\t\t\tnormalModuleFactory.hooks.parser\n\t\t\t\t\t.for(\"javascript/esm\")\n\t\t\t\t\t.tap(\"InnerGraphPlugin\", handler);\n\n\t\t\t\tcompilation.hooks.finishModules.tap(\"InnerGraphPlugin\", () => {\n\t\t\t\t\tlogger.timeAggregateEnd(\"infer dependency usage\");\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}\n}\n\nmodule.exports = InnerGraphPlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}