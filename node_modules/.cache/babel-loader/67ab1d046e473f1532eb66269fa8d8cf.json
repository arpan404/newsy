{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n/**\n * @template T\n * @template {Error} E\n * @param {Iterable<T>} items initial items\n * @param {number} concurrency number of items running in parallel\n * @param {function(T, function(T): void, function(E=): void): void} processor worker which pushes more items\n * @param {function(E=): void} callback all items processed\n * @returns {void}\n */\n\nconst processAsyncTree = (items, concurrency, processor, callback) => {\n  const queue = Array.from(items);\n  if (queue.length === 0) return callback();\n  let processing = 0;\n  let finished = false;\n  let processScheduled = true;\n\n  const push = item => {\n    queue.push(item);\n\n    if (!processScheduled && processing < concurrency) {\n      processScheduled = true;\n      process.nextTick(processQueue);\n    }\n  };\n\n  const processorCallback = err => {\n    processing--;\n\n    if (err && !finished) {\n      finished = true;\n      callback(err);\n      return;\n    }\n\n    if (!processScheduled) {\n      processScheduled = true;\n      process.nextTick(processQueue);\n    }\n  };\n\n  const processQueue = () => {\n    if (finished) return;\n\n    while (processing < concurrency && queue.length > 0) {\n      processing++;\n      const item = queue.pop();\n      processor(item, push, processorCallback);\n    }\n\n    processScheduled = false;\n\n    if (queue.length === 0 && processing === 0 && !finished) {\n      finished = true;\n      callback();\n    }\n  };\n\n  processQueue();\n};\n\nmodule.exports = processAsyncTree;","map":{"version":3,"names":["processAsyncTree","items","concurrency","processor","callback","queue","Array","from","length","processing","finished","processScheduled","push","item","process","nextTick","processQueue","processorCallback","err","pop","module","exports"],"sources":["/Users/arpanbhandari/Documents/cod-ing/React/newsapp/node_modules/webpack/lib/util/processAsyncTree.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\n/**\n * @template T\n * @template {Error} E\n * @param {Iterable<T>} items initial items\n * @param {number} concurrency number of items running in parallel\n * @param {function(T, function(T): void, function(E=): void): void} processor worker which pushes more items\n * @param {function(E=): void} callback all items processed\n * @returns {void}\n */\nconst processAsyncTree = (items, concurrency, processor, callback) => {\n\tconst queue = Array.from(items);\n\tif (queue.length === 0) return callback();\n\tlet processing = 0;\n\tlet finished = false;\n\tlet processScheduled = true;\n\n\tconst push = item => {\n\t\tqueue.push(item);\n\t\tif (!processScheduled && processing < concurrency) {\n\t\t\tprocessScheduled = true;\n\t\t\tprocess.nextTick(processQueue);\n\t\t}\n\t};\n\n\tconst processorCallback = err => {\n\t\tprocessing--;\n\t\tif (err && !finished) {\n\t\t\tfinished = true;\n\t\t\tcallback(err);\n\t\t\treturn;\n\t\t}\n\t\tif (!processScheduled) {\n\t\t\tprocessScheduled = true;\n\t\t\tprocess.nextTick(processQueue);\n\t\t}\n\t};\n\n\tconst processQueue = () => {\n\t\tif (finished) return;\n\t\twhile (processing < concurrency && queue.length > 0) {\n\t\t\tprocessing++;\n\t\t\tconst item = queue.pop();\n\t\t\tprocessor(item, push, processorCallback);\n\t\t}\n\t\tprocessScheduled = false;\n\t\tif (queue.length === 0 && processing === 0 && !finished) {\n\t\t\tfinished = true;\n\t\t\tcallback();\n\t\t}\n\t};\n\n\tprocessQueue();\n};\n\nmodule.exports = processAsyncTree;\n"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMA,gBAAgB,GAAG,CAACC,KAAD,EAAQC,WAAR,EAAqBC,SAArB,EAAgCC,QAAhC,KAA6C;EACrE,MAAMC,KAAK,GAAGC,KAAK,CAACC,IAAN,CAAWN,KAAX,CAAd;EACA,IAAII,KAAK,CAACG,MAAN,KAAiB,CAArB,EAAwB,OAAOJ,QAAQ,EAAf;EACxB,IAAIK,UAAU,GAAG,CAAjB;EACA,IAAIC,QAAQ,GAAG,KAAf;EACA,IAAIC,gBAAgB,GAAG,IAAvB;;EAEA,MAAMC,IAAI,GAAGC,IAAI,IAAI;IACpBR,KAAK,CAACO,IAAN,CAAWC,IAAX;;IACA,IAAI,CAACF,gBAAD,IAAqBF,UAAU,GAAGP,WAAtC,EAAmD;MAClDS,gBAAgB,GAAG,IAAnB;MACAG,OAAO,CAACC,QAAR,CAAiBC,YAAjB;IACA;EACD,CAND;;EAQA,MAAMC,iBAAiB,GAAGC,GAAG,IAAI;IAChCT,UAAU;;IACV,IAAIS,GAAG,IAAI,CAACR,QAAZ,EAAsB;MACrBA,QAAQ,GAAG,IAAX;MACAN,QAAQ,CAACc,GAAD,CAAR;MACA;IACA;;IACD,IAAI,CAACP,gBAAL,EAAuB;MACtBA,gBAAgB,GAAG,IAAnB;MACAG,OAAO,CAACC,QAAR,CAAiBC,YAAjB;IACA;EACD,CAXD;;EAaA,MAAMA,YAAY,GAAG,MAAM;IAC1B,IAAIN,QAAJ,EAAc;;IACd,OAAOD,UAAU,GAAGP,WAAb,IAA4BG,KAAK,CAACG,MAAN,GAAe,CAAlD,EAAqD;MACpDC,UAAU;MACV,MAAMI,IAAI,GAAGR,KAAK,CAACc,GAAN,EAAb;MACAhB,SAAS,CAACU,IAAD,EAAOD,IAAP,EAAaK,iBAAb,CAAT;IACA;;IACDN,gBAAgB,GAAG,KAAnB;;IACA,IAAIN,KAAK,CAACG,MAAN,KAAiB,CAAjB,IAAsBC,UAAU,KAAK,CAArC,IAA0C,CAACC,QAA/C,EAAyD;MACxDA,QAAQ,GAAG,IAAX;MACAN,QAAQ;IACR;EACD,CAZD;;EAcAY,YAAY;AACZ,CA3CD;;AA6CAI,MAAM,CAACC,OAAP,GAAiBrB,gBAAjB"},"metadata":{},"sourceType":"script"}