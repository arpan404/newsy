{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst Cache = require(\"../Cache\");\n/** @typedef {import(\"webpack-sources\").Source} Source */\n\n/** @typedef {import(\"../Cache\").Etag} Etag */\n\n/** @typedef {import(\"../Compiler\")} Compiler */\n\n/** @typedef {import(\"../Module\")} Module */\n\n\nclass MemoryCachePlugin {\n  /**\n   * Apply the plugin\n   * @param {Compiler} compiler the compiler instance\n   * @returns {void}\n   */\n  apply(compiler) {\n    /** @type {Map<string, { etag: Etag | null, data: any }>} */\n    const cache = new Map();\n    compiler.cache.hooks.store.tap({\n      name: \"MemoryCachePlugin\",\n      stage: Cache.STAGE_MEMORY\n    }, (identifier, etag, data) => {\n      cache.set(identifier, {\n        etag,\n        data\n      });\n    });\n    compiler.cache.hooks.get.tap({\n      name: \"MemoryCachePlugin\",\n      stage: Cache.STAGE_MEMORY\n    }, (identifier, etag, gotHandlers) => {\n      const cacheEntry = cache.get(identifier);\n\n      if (cacheEntry === null) {\n        return null;\n      } else if (cacheEntry !== undefined) {\n        return cacheEntry.etag === etag ? cacheEntry.data : null;\n      }\n\n      gotHandlers.push((result, callback) => {\n        if (result === undefined) {\n          cache.set(identifier, null);\n        } else {\n          cache.set(identifier, {\n            etag,\n            data: result\n          });\n        }\n\n        return callback();\n      });\n    });\n    compiler.cache.hooks.shutdown.tap({\n      name: \"MemoryCachePlugin\",\n      stage: Cache.STAGE_MEMORY\n    }, () => {\n      cache.clear();\n    });\n  }\n\n}\n\nmodule.exports = MemoryCachePlugin;","map":{"version":3,"names":["Cache","require","MemoryCachePlugin","apply","compiler","cache","Map","hooks","store","tap","name","stage","STAGE_MEMORY","identifier","etag","data","set","get","gotHandlers","cacheEntry","undefined","push","result","callback","shutdown","clear","module","exports"],"sources":["/Users/arpanbhandari/Documents/cod-ing/React/newsapp/node_modules/webpack/lib/cache/MemoryCachePlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst Cache = require(\"../Cache\");\n\n/** @typedef {import(\"webpack-sources\").Source} Source */\n/** @typedef {import(\"../Cache\").Etag} Etag */\n/** @typedef {import(\"../Compiler\")} Compiler */\n/** @typedef {import(\"../Module\")} Module */\n\nclass MemoryCachePlugin {\n\t/**\n\t * Apply the plugin\n\t * @param {Compiler} compiler the compiler instance\n\t * @returns {void}\n\t */\n\tapply(compiler) {\n\t\t/** @type {Map<string, { etag: Etag | null, data: any }>} */\n\t\tconst cache = new Map();\n\t\tcompiler.cache.hooks.store.tap(\n\t\t\t{ name: \"MemoryCachePlugin\", stage: Cache.STAGE_MEMORY },\n\t\t\t(identifier, etag, data) => {\n\t\t\t\tcache.set(identifier, { etag, data });\n\t\t\t}\n\t\t);\n\t\tcompiler.cache.hooks.get.tap(\n\t\t\t{ name: \"MemoryCachePlugin\", stage: Cache.STAGE_MEMORY },\n\t\t\t(identifier, etag, gotHandlers) => {\n\t\t\t\tconst cacheEntry = cache.get(identifier);\n\t\t\t\tif (cacheEntry === null) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else if (cacheEntry !== undefined) {\n\t\t\t\t\treturn cacheEntry.etag === etag ? cacheEntry.data : null;\n\t\t\t\t}\n\t\t\t\tgotHandlers.push((result, callback) => {\n\t\t\t\t\tif (result === undefined) {\n\t\t\t\t\t\tcache.set(identifier, null);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcache.set(identifier, { etag, data: result });\n\t\t\t\t\t}\n\t\t\t\t\treturn callback();\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t\tcompiler.cache.hooks.shutdown.tap(\n\t\t\t{ name: \"MemoryCachePlugin\", stage: Cache.STAGE_MEMORY },\n\t\t\t() => {\n\t\t\t\tcache.clear();\n\t\t\t}\n\t\t);\n\t}\n}\nmodule.exports = MemoryCachePlugin;\n"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,MAAMA,KAAK,GAAGC,OAAO,CAAC,UAAD,CAArB;AAEA;;AACA;;AACA;;AACA;;;AAEA,MAAMC,iBAAN,CAAwB;EACvB;AACD;AACA;AACA;AACA;EACCC,KAAK,CAACC,QAAD,EAAW;IACf;IACA,MAAMC,KAAK,GAAG,IAAIC,GAAJ,EAAd;IACAF,QAAQ,CAACC,KAAT,CAAeE,KAAf,CAAqBC,KAArB,CAA2BC,GAA3B,CACC;MAAEC,IAAI,EAAE,mBAAR;MAA6BC,KAAK,EAAEX,KAAK,CAACY;IAA1C,CADD,EAEC,CAACC,UAAD,EAAaC,IAAb,EAAmBC,IAAnB,KAA4B;MAC3BV,KAAK,CAACW,GAAN,CAAUH,UAAV,EAAsB;QAAEC,IAAF;QAAQC;MAAR,CAAtB;IACA,CAJF;IAMAX,QAAQ,CAACC,KAAT,CAAeE,KAAf,CAAqBU,GAArB,CAAyBR,GAAzB,CACC;MAAEC,IAAI,EAAE,mBAAR;MAA6BC,KAAK,EAAEX,KAAK,CAACY;IAA1C,CADD,EAEC,CAACC,UAAD,EAAaC,IAAb,EAAmBI,WAAnB,KAAmC;MAClC,MAAMC,UAAU,GAAGd,KAAK,CAACY,GAAN,CAAUJ,UAAV,CAAnB;;MACA,IAAIM,UAAU,KAAK,IAAnB,EAAyB;QACxB,OAAO,IAAP;MACA,CAFD,MAEO,IAAIA,UAAU,KAAKC,SAAnB,EAA8B;QACpC,OAAOD,UAAU,CAACL,IAAX,KAAoBA,IAApB,GAA2BK,UAAU,CAACJ,IAAtC,GAA6C,IAApD;MACA;;MACDG,WAAW,CAACG,IAAZ,CAAiB,CAACC,MAAD,EAASC,QAAT,KAAsB;QACtC,IAAID,MAAM,KAAKF,SAAf,EAA0B;UACzBf,KAAK,CAACW,GAAN,CAAUH,UAAV,EAAsB,IAAtB;QACA,CAFD,MAEO;UACNR,KAAK,CAACW,GAAN,CAAUH,UAAV,EAAsB;YAAEC,IAAF;YAAQC,IAAI,EAAEO;UAAd,CAAtB;QACA;;QACD,OAAOC,QAAQ,EAAf;MACA,CAPD;IAQA,CAjBF;IAmBAnB,QAAQ,CAACC,KAAT,CAAeE,KAAf,CAAqBiB,QAArB,CAA8Bf,GAA9B,CACC;MAAEC,IAAI,EAAE,mBAAR;MAA6BC,KAAK,EAAEX,KAAK,CAACY;IAA1C,CADD,EAEC,MAAM;MACLP,KAAK,CAACoB,KAAN;IACA,CAJF;EAMA;;AAxCsB;;AA0CxBC,MAAM,CAACC,OAAP,GAAiBzB,iBAAjB"},"metadata":{},"sourceType":"script"}