{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst {\n  ConcatSource\n} = require(\"webpack-sources\");\n\nconst HotUpdateChunk = require(\"../HotUpdateChunk\");\n\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\n\nconst SelfModuleFactory = require(\"../SelfModuleFactory\");\n\nconst CssExportDependency = require(\"../dependencies/CssExportDependency\");\n\nconst CssImportDependency = require(\"../dependencies/CssImportDependency\");\n\nconst CssLocalIdentifierDependency = require(\"../dependencies/CssLocalIdentifierDependency\");\n\nconst CssSelfLocalIdentifierDependency = require(\"../dependencies/CssSelfLocalIdentifierDependency\");\n\nconst CssUrlDependency = require(\"../dependencies/CssUrlDependency\");\n\nconst StaticExportsDependency = require(\"../dependencies/StaticExportsDependency\");\n\nconst {\n  compareModulesByIdentifier\n} = require(\"../util/comparators\");\n\nconst createSchemaValidation = require(\"../util/create-schema-validation\");\n\nconst createHash = require(\"../util/createHash\");\n\nconst memoize = require(\"../util/memoize\");\n\nconst nonNumericOnlyHash = require(\"../util/nonNumericOnlyHash\");\n\nconst CssExportsGenerator = require(\"./CssExportsGenerator\");\n\nconst CssGenerator = require(\"./CssGenerator\");\n\nconst CssParser = require(\"./CssParser\");\n/** @typedef {import(\"webpack-sources\").Source} Source */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").CssExperimentOptions} CssExperimentOptions */\n\n/** @typedef {import(\"../Chunk\")} Chunk */\n\n/** @typedef {import(\"../Compiler\")} Compiler */\n\n/** @typedef {import(\"../Module\")} Module */\n\n\nconst getCssLoadingRuntimeModule = memoize(() => require(\"./CssLoadingRuntimeModule\"));\n\nconst getSchema = name => {\n  const {\n    definitions\n  } = require(\"../../schemas/WebpackOptions.json\");\n\n  return {\n    definitions,\n    oneOf: [{\n      $ref: `#/definitions/${name}`\n    }]\n  };\n};\n\nconst validateGeneratorOptions = createSchemaValidation(require(\"../../schemas/plugins/css/CssGeneratorOptions.check.js\"), () => getSchema(\"CssGeneratorOptions\"), {\n  name: \"Css Modules Plugin\",\n  baseDataPath: \"parser\"\n});\nconst validateParserOptions = createSchemaValidation(require(\"../../schemas/plugins/css/CssParserOptions.check.js\"), () => getSchema(\"CssParserOptions\"), {\n  name: \"Css Modules Plugin\",\n  baseDataPath: \"parser\"\n});\n\nconst escapeCss = (str, omitOptionalUnderscore) => {\n  const escaped = `${str}`.replace( // cspell:word uffff\n  /[^a-zA-Z0-9_\\u0081-\\uffff-]/g, s => `\\\\${s}`);\n  return !omitOptionalUnderscore && /^(?!--)[0-9_-]/.test(escaped) ? `_${escaped}` : escaped;\n};\n\nconst plugin = \"CssModulesPlugin\";\n\nclass CssModulesPlugin {\n  /**\n   * @param {CssExperimentOptions} options options\n   */\n  constructor(_ref) {\n    let {\n      exportsOnly = false\n    } = _ref;\n    this._exportsOnly = exportsOnly;\n  }\n  /**\n   * Apply the plugin\n   * @param {Compiler} compiler the compiler instance\n   * @returns {void}\n   */\n\n\n  apply(compiler) {\n    compiler.hooks.compilation.tap(plugin, (compilation, _ref2) => {\n      let {\n        normalModuleFactory\n      } = _ref2;\n      const selfFactory = new SelfModuleFactory(compilation.moduleGraph);\n      compilation.dependencyFactories.set(CssUrlDependency, normalModuleFactory);\n      compilation.dependencyTemplates.set(CssUrlDependency, new CssUrlDependency.Template());\n      compilation.dependencyTemplates.set(CssLocalIdentifierDependency, new CssLocalIdentifierDependency.Template());\n      compilation.dependencyFactories.set(CssSelfLocalIdentifierDependency, selfFactory);\n      compilation.dependencyTemplates.set(CssSelfLocalIdentifierDependency, new CssSelfLocalIdentifierDependency.Template());\n      compilation.dependencyTemplates.set(CssExportDependency, new CssExportDependency.Template());\n      compilation.dependencyFactories.set(CssImportDependency, normalModuleFactory);\n      compilation.dependencyTemplates.set(CssImportDependency, new CssImportDependency.Template());\n      compilation.dependencyTemplates.set(StaticExportsDependency, new StaticExportsDependency.Template());\n      normalModuleFactory.hooks.createParser.for(\"css\").tap(plugin, parserOptions => {\n        validateParserOptions(parserOptions);\n        return new CssParser();\n      });\n      normalModuleFactory.hooks.createParser.for(\"css/global\").tap(plugin, parserOptions => {\n        validateParserOptions(parserOptions);\n        return new CssParser({\n          allowPseudoBlocks: false,\n          allowModeSwitch: false\n        });\n      });\n      normalModuleFactory.hooks.createParser.for(\"css/module\").tap(plugin, parserOptions => {\n        validateParserOptions(parserOptions);\n        return new CssParser({\n          defaultMode: \"local\"\n        });\n      });\n      normalModuleFactory.hooks.createGenerator.for(\"css\").tap(plugin, generatorOptions => {\n        validateGeneratorOptions(generatorOptions);\n        return this._exportsOnly ? new CssExportsGenerator() : new CssGenerator();\n      });\n      normalModuleFactory.hooks.createGenerator.for(\"css/global\").tap(plugin, generatorOptions => {\n        validateGeneratorOptions(generatorOptions);\n        return this._exportsOnly ? new CssExportsGenerator() : new CssGenerator();\n      });\n      normalModuleFactory.hooks.createGenerator.for(\"css/module\").tap(plugin, generatorOptions => {\n        validateGeneratorOptions(generatorOptions);\n        return this._exportsOnly ? new CssExportsGenerator() : new CssGenerator();\n      });\n      const orderedCssModulesPerChunk = new WeakMap();\n      compilation.hooks.afterCodeGeneration.tap(\"CssModulesPlugin\", () => {\n        const {\n          chunkGraph\n        } = compilation;\n\n        for (const chunk of compilation.chunks) {\n          if (CssModulesPlugin.chunkHasCss(chunk, chunkGraph)) {\n            orderedCssModulesPerChunk.set(chunk, this.getOrderedChunkCssModules(chunk, chunkGraph, compilation));\n          }\n        }\n      });\n      compilation.hooks.contentHash.tap(\"CssModulesPlugin\", chunk => {\n        const {\n          chunkGraph,\n          outputOptions: {\n            hashSalt,\n            hashDigest,\n            hashDigestLength,\n            hashFunction\n          }\n        } = compilation;\n        const modules = orderedCssModulesPerChunk.get(chunk);\n        if (modules === undefined) return;\n        const hash = createHash(hashFunction);\n        if (hashSalt) hash.update(hashSalt);\n\n        for (const module of modules) {\n          hash.update(chunkGraph.getModuleHash(module, chunk.runtime));\n        }\n\n        const digest =\n        /** @type {string} */\n        hash.digest(hashDigest);\n        chunk.contentHash.css = nonNumericOnlyHash(digest, hashDigestLength);\n      });\n      compilation.hooks.renderManifest.tap(plugin, (result, options) => {\n        const {\n          chunkGraph\n        } = compilation;\n        const {\n          hash,\n          chunk,\n          codeGenerationResults\n        } = options;\n        if (chunk instanceof HotUpdateChunk) return result;\n        const modules = orderedCssModulesPerChunk.get(chunk);\n\n        if (modules !== undefined) {\n          result.push({\n            render: () => this.renderChunk({\n              chunk,\n              chunkGraph,\n              codeGenerationResults,\n              uniqueName: compilation.outputOptions.uniqueName,\n              modules\n            }),\n            filenameTemplate: CssModulesPlugin.getChunkFilenameTemplate(chunk, compilation.outputOptions),\n            pathOptions: {\n              hash,\n              runtime: chunk.runtime,\n              chunk,\n              contentHashType: \"css\"\n            },\n            identifier: `css${chunk.id}`,\n            hash: chunk.contentHash.css\n          });\n        }\n\n        return result;\n      });\n      const enabledChunks = new WeakSet();\n\n      const handler = (chunk, set) => {\n        if (enabledChunks.has(chunk)) {\n          return;\n        }\n\n        enabledChunks.add(chunk);\n        set.add(RuntimeGlobals.publicPath);\n        set.add(RuntimeGlobals.getChunkCssFilename);\n        set.add(RuntimeGlobals.hasOwnProperty);\n        set.add(RuntimeGlobals.moduleFactoriesAddOnly);\n        set.add(RuntimeGlobals.makeNamespaceObject);\n        const CssLoadingRuntimeModule = getCssLoadingRuntimeModule();\n        compilation.addRuntimeModule(chunk, new CssLoadingRuntimeModule(set));\n      };\n\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.hasCssModules).tap(plugin, handler);\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.ensureChunkHandlers).tap(plugin, handler);\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.hmrDownloadUpdateHandlers).tap(plugin, handler);\n    });\n  }\n\n  getModulesInOrder(chunk, modules, compilation) {\n    if (!modules) return [];\n    const modulesList = [...modules]; // Get ordered list of modules per chunk group\n    // Lists are in reverse order to allow to use Array.pop()\n\n    const modulesByChunkGroup = Array.from(chunk.groupsIterable, chunkGroup => {\n      const sortedModules = modulesList.map(module => {\n        return {\n          module,\n          index: chunkGroup.getModulePostOrderIndex(module)\n        };\n      }).filter(item => item.index !== undefined).sort((a, b) => b.index - a.index).map(item => item.module);\n      return {\n        list: sortedModules,\n        set: new Set(sortedModules)\n      };\n    });\n    if (modulesByChunkGroup.length === 1) return modulesByChunkGroup[0].list.reverse();\n\n    const compareModuleLists = (_ref3, _ref4) => {\n      let {\n        list: a\n      } = _ref3;\n      let {\n        list: b\n      } = _ref4;\n\n      if (a.length === 0) {\n        return b.length === 0 ? 0 : 1;\n      } else {\n        if (b.length === 0) return -1;\n        return compareModulesByIdentifier(a[a.length - 1], b[b.length - 1]);\n      }\n    };\n\n    modulesByChunkGroup.sort(compareModuleLists);\n    const finalModules = [];\n\n    for (;;) {\n      const failedModules = new Set();\n      const list = modulesByChunkGroup[0].list;\n\n      if (list.length === 0) {\n        // done, everything empty\n        break;\n      }\n\n      let selectedModule = list[list.length - 1];\n      let hasFailed = undefined;\n\n      outer: for (;;) {\n        for (const {\n          list,\n          set\n        } of modulesByChunkGroup) {\n          if (list.length === 0) continue;\n          const lastModule = list[list.length - 1];\n          if (lastModule === selectedModule) continue;\n          if (!set.has(selectedModule)) continue;\n          failedModules.add(selectedModule);\n\n          if (failedModules.has(lastModule)) {\n            // There is a conflict, try other alternatives\n            hasFailed = lastModule;\n            continue;\n          }\n\n          selectedModule = lastModule;\n          hasFailed = false;\n          continue outer; // restart\n        }\n\n        break;\n      }\n\n      if (hasFailed) {\n        // There is a not resolve-able conflict with the selectedModule\n        if (compilation) {\n          // TODO print better warning\n          compilation.warnings.push(new Error(`chunk ${chunk.name || chunk.id}\\nConflicting order between ${hasFailed.readableIdentifier(compilation.requestShortener)} and ${selectedModule.readableIdentifier(compilation.requestShortener)}`));\n        }\n\n        selectedModule = hasFailed;\n      } // Insert the selected module into the final modules list\n\n\n      finalModules.push(selectedModule); // Remove the selected module from all lists\n\n      for (const {\n        list,\n        set\n      } of modulesByChunkGroup) {\n        const lastModule = list[list.length - 1];\n        if (lastModule === selectedModule) list.pop();else if (hasFailed && set.has(selectedModule)) {\n          const idx = list.indexOf(selectedModule);\n          if (idx >= 0) list.splice(idx, 1);\n        }\n      }\n\n      modulesByChunkGroup.sort(compareModuleLists);\n    }\n\n    return finalModules;\n  }\n\n  getOrderedChunkCssModules(chunk, chunkGraph, compilation) {\n    return [...this.getModulesInOrder(chunk, chunkGraph.getOrderedChunkModulesIterableBySourceType(chunk, \"css-import\", compareModulesByIdentifier), compilation), ...this.getModulesInOrder(chunk, chunkGraph.getOrderedChunkModulesIterableBySourceType(chunk, \"css\", compareModulesByIdentifier), compilation)];\n  }\n\n  renderChunk(_ref5) {\n    let {\n      uniqueName,\n      chunk,\n      chunkGraph,\n      codeGenerationResults,\n      modules\n    } = _ref5;\n    const source = new ConcatSource();\n    const metaData = [];\n\n    for (const module of modules) {\n      try {\n        const codeGenResult = codeGenerationResults.get(module, chunk.runtime);\n        const s = codeGenResult.sources.get(\"css\") || codeGenResult.sources.get(\"css-import\");\n\n        if (s) {\n          source.add(s);\n          source.add(\"\\n\");\n        }\n\n        const exports = codeGenResult.data && codeGenResult.data.get(\"css-exports\");\n        const moduleId = chunkGraph.getModuleId(module) + \"\";\n        metaData.push(`${exports ? Array.from(exports, _ref6 => {\n          let [n, v] = _ref6;\n          const shortcutValue = `${uniqueName ? uniqueName + \"-\" : \"\"}${moduleId}-${n}`;\n          return v === shortcutValue ? `${escapeCss(n)}/` : v === \"--\" + shortcutValue ? `${escapeCss(n)}%` : `${escapeCss(n)}(${escapeCss(v)})`;\n        }).join(\"\") : \"\"}${escapeCss(moduleId)}`);\n      } catch (e) {\n        e.message += `\\nduring rendering of css ${module.identifier()}`;\n        throw e;\n      }\n    }\n\n    source.add(`head{--webpack-${escapeCss((uniqueName ? uniqueName + \"-\" : \"\") + chunk.id, true)}:${metaData.join(\",\")};}`);\n    return source;\n  }\n\n  static getChunkFilenameTemplate(chunk, outputOptions) {\n    if (chunk.cssFilenameTemplate) {\n      return chunk.cssFilenameTemplate;\n    } else if (chunk.canBeInitial()) {\n      return outputOptions.cssFilename;\n    } else {\n      return outputOptions.cssChunkFilename;\n    }\n  }\n\n  static chunkHasCss(chunk, chunkGraph) {\n    return !!chunkGraph.getChunkModulesIterableBySourceType(chunk, \"css\") || !!chunkGraph.getChunkModulesIterableBySourceType(chunk, \"css-import\");\n  }\n\n}\n\nmodule.exports = CssModulesPlugin;","map":{"version":3,"names":["ConcatSource","require","HotUpdateChunk","RuntimeGlobals","SelfModuleFactory","CssExportDependency","CssImportDependency","CssLocalIdentifierDependency","CssSelfLocalIdentifierDependency","CssUrlDependency","StaticExportsDependency","compareModulesByIdentifier","createSchemaValidation","createHash","memoize","nonNumericOnlyHash","CssExportsGenerator","CssGenerator","CssParser","getCssLoadingRuntimeModule","getSchema","name","definitions","oneOf","$ref","validateGeneratorOptions","baseDataPath","validateParserOptions","escapeCss","str","omitOptionalUnderscore","escaped","replace","s","test","plugin","CssModulesPlugin","constructor","exportsOnly","_exportsOnly","apply","compiler","hooks","compilation","tap","normalModuleFactory","selfFactory","moduleGraph","dependencyFactories","set","dependencyTemplates","Template","createParser","for","parserOptions","allowPseudoBlocks","allowModeSwitch","defaultMode","createGenerator","generatorOptions","orderedCssModulesPerChunk","WeakMap","afterCodeGeneration","chunkGraph","chunk","chunks","chunkHasCss","getOrderedChunkCssModules","contentHash","outputOptions","hashSalt","hashDigest","hashDigestLength","hashFunction","modules","get","undefined","hash","update","module","getModuleHash","runtime","digest","css","renderManifest","result","options","codeGenerationResults","push","render","renderChunk","uniqueName","filenameTemplate","getChunkFilenameTemplate","pathOptions","contentHashType","identifier","id","enabledChunks","WeakSet","handler","has","add","publicPath","getChunkCssFilename","hasOwnProperty","moduleFactoriesAddOnly","makeNamespaceObject","CssLoadingRuntimeModule","addRuntimeModule","runtimeRequirementInTree","hasCssModules","ensureChunkHandlers","hmrDownloadUpdateHandlers","getModulesInOrder","modulesList","modulesByChunkGroup","Array","from","groupsIterable","chunkGroup","sortedModules","map","index","getModulePostOrderIndex","filter","item","sort","a","b","list","Set","length","reverse","compareModuleLists","finalModules","failedModules","selectedModule","hasFailed","outer","lastModule","warnings","Error","readableIdentifier","requestShortener","pop","idx","indexOf","splice","getOrderedChunkModulesIterableBySourceType","source","metaData","codeGenResult","sources","exports","data","moduleId","getModuleId","n","v","shortcutValue","join","e","message","cssFilenameTemplate","canBeInitial","cssFilename","cssChunkFilename","getChunkModulesIterableBySourceType"],"sources":["/Users/arpanbhandari/Documents/cod-ing/React/newsapp/node_modules/webpack/lib/css/CssModulesPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst { ConcatSource } = require(\"webpack-sources\");\nconst HotUpdateChunk = require(\"../HotUpdateChunk\");\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst SelfModuleFactory = require(\"../SelfModuleFactory\");\nconst CssExportDependency = require(\"../dependencies/CssExportDependency\");\nconst CssImportDependency = require(\"../dependencies/CssImportDependency\");\nconst CssLocalIdentifierDependency = require(\"../dependencies/CssLocalIdentifierDependency\");\nconst CssSelfLocalIdentifierDependency = require(\"../dependencies/CssSelfLocalIdentifierDependency\");\nconst CssUrlDependency = require(\"../dependencies/CssUrlDependency\");\nconst StaticExportsDependency = require(\"../dependencies/StaticExportsDependency\");\nconst { compareModulesByIdentifier } = require(\"../util/comparators\");\nconst createSchemaValidation = require(\"../util/create-schema-validation\");\nconst createHash = require(\"../util/createHash\");\nconst memoize = require(\"../util/memoize\");\nconst nonNumericOnlyHash = require(\"../util/nonNumericOnlyHash\");\nconst CssExportsGenerator = require(\"./CssExportsGenerator\");\nconst CssGenerator = require(\"./CssGenerator\");\nconst CssParser = require(\"./CssParser\");\n\n/** @typedef {import(\"webpack-sources\").Source} Source */\n/** @typedef {import(\"../../declarations/WebpackOptions\").CssExperimentOptions} CssExperimentOptions */\n/** @typedef {import(\"../Chunk\")} Chunk */\n/** @typedef {import(\"../Compiler\")} Compiler */\n/** @typedef {import(\"../Module\")} Module */\n\nconst getCssLoadingRuntimeModule = memoize(() =>\n\trequire(\"./CssLoadingRuntimeModule\")\n);\n\nconst getSchema = name => {\n\tconst { definitions } = require(\"../../schemas/WebpackOptions.json\");\n\treturn {\n\t\tdefinitions,\n\t\toneOf: [{ $ref: `#/definitions/${name}` }]\n\t};\n};\n\nconst validateGeneratorOptions = createSchemaValidation(\n\trequire(\"../../schemas/plugins/css/CssGeneratorOptions.check.js\"),\n\t() => getSchema(\"CssGeneratorOptions\"),\n\t{\n\t\tname: \"Css Modules Plugin\",\n\t\tbaseDataPath: \"parser\"\n\t}\n);\nconst validateParserOptions = createSchemaValidation(\n\trequire(\"../../schemas/plugins/css/CssParserOptions.check.js\"),\n\t() => getSchema(\"CssParserOptions\"),\n\t{\n\t\tname: \"Css Modules Plugin\",\n\t\tbaseDataPath: \"parser\"\n\t}\n);\n\nconst escapeCss = (str, omitOptionalUnderscore) => {\n\tconst escaped = `${str}`.replace(\n\t\t// cspell:word uffff\n\t\t/[^a-zA-Z0-9_\\u0081-\\uffff-]/g,\n\t\ts => `\\\\${s}`\n\t);\n\treturn !omitOptionalUnderscore && /^(?!--)[0-9_-]/.test(escaped)\n\t\t? `_${escaped}`\n\t\t: escaped;\n};\n\nconst plugin = \"CssModulesPlugin\";\n\nclass CssModulesPlugin {\n\t/**\n\t * @param {CssExperimentOptions} options options\n\t */\n\tconstructor({ exportsOnly = false }) {\n\t\tthis._exportsOnly = exportsOnly;\n\t}\n\t/**\n\t * Apply the plugin\n\t * @param {Compiler} compiler the compiler instance\n\t * @returns {void}\n\t */\n\tapply(compiler) {\n\t\tcompiler.hooks.compilation.tap(\n\t\t\tplugin,\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tconst selfFactory = new SelfModuleFactory(compilation.moduleGraph);\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tCssUrlDependency,\n\t\t\t\t\tnormalModuleFactory\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tCssUrlDependency,\n\t\t\t\t\tnew CssUrlDependency.Template()\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tCssLocalIdentifierDependency,\n\t\t\t\t\tnew CssLocalIdentifierDependency.Template()\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tCssSelfLocalIdentifierDependency,\n\t\t\t\t\tselfFactory\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tCssSelfLocalIdentifierDependency,\n\t\t\t\t\tnew CssSelfLocalIdentifierDependency.Template()\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tCssExportDependency,\n\t\t\t\t\tnew CssExportDependency.Template()\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tCssImportDependency,\n\t\t\t\t\tnormalModuleFactory\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tCssImportDependency,\n\t\t\t\t\tnew CssImportDependency.Template()\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\t\tStaticExportsDependency,\n\t\t\t\t\tnew StaticExportsDependency.Template()\n\t\t\t\t);\n\t\t\t\tnormalModuleFactory.hooks.createParser\n\t\t\t\t\t.for(\"css\")\n\t\t\t\t\t.tap(plugin, parserOptions => {\n\t\t\t\t\t\tvalidateParserOptions(parserOptions);\n\t\t\t\t\t\treturn new CssParser();\n\t\t\t\t\t});\n\t\t\t\tnormalModuleFactory.hooks.createParser\n\t\t\t\t\t.for(\"css/global\")\n\t\t\t\t\t.tap(plugin, parserOptions => {\n\t\t\t\t\t\tvalidateParserOptions(parserOptions);\n\t\t\t\t\t\treturn new CssParser({\n\t\t\t\t\t\t\tallowPseudoBlocks: false,\n\t\t\t\t\t\t\tallowModeSwitch: false\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\tnormalModuleFactory.hooks.createParser\n\t\t\t\t\t.for(\"css/module\")\n\t\t\t\t\t.tap(plugin, parserOptions => {\n\t\t\t\t\t\tvalidateParserOptions(parserOptions);\n\t\t\t\t\t\treturn new CssParser({\n\t\t\t\t\t\t\tdefaultMode: \"local\"\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\tnormalModuleFactory.hooks.createGenerator\n\t\t\t\t\t.for(\"css\")\n\t\t\t\t\t.tap(plugin, generatorOptions => {\n\t\t\t\t\t\tvalidateGeneratorOptions(generatorOptions);\n\t\t\t\t\t\treturn this._exportsOnly\n\t\t\t\t\t\t\t? new CssExportsGenerator()\n\t\t\t\t\t\t\t: new CssGenerator();\n\t\t\t\t\t});\n\t\t\t\tnormalModuleFactory.hooks.createGenerator\n\t\t\t\t\t.for(\"css/global\")\n\t\t\t\t\t.tap(plugin, generatorOptions => {\n\t\t\t\t\t\tvalidateGeneratorOptions(generatorOptions);\n\t\t\t\t\t\treturn this._exportsOnly\n\t\t\t\t\t\t\t? new CssExportsGenerator()\n\t\t\t\t\t\t\t: new CssGenerator();\n\t\t\t\t\t});\n\t\t\t\tnormalModuleFactory.hooks.createGenerator\n\t\t\t\t\t.for(\"css/module\")\n\t\t\t\t\t.tap(plugin, generatorOptions => {\n\t\t\t\t\t\tvalidateGeneratorOptions(generatorOptions);\n\t\t\t\t\t\treturn this._exportsOnly\n\t\t\t\t\t\t\t? new CssExportsGenerator()\n\t\t\t\t\t\t\t: new CssGenerator();\n\t\t\t\t\t});\n\t\t\t\tconst orderedCssModulesPerChunk = new WeakMap();\n\t\t\t\tcompilation.hooks.afterCodeGeneration.tap(\"CssModulesPlugin\", () => {\n\t\t\t\t\tconst { chunkGraph } = compilation;\n\t\t\t\t\tfor (const chunk of compilation.chunks) {\n\t\t\t\t\t\tif (CssModulesPlugin.chunkHasCss(chunk, chunkGraph)) {\n\t\t\t\t\t\t\torderedCssModulesPerChunk.set(\n\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\tthis.getOrderedChunkCssModules(chunk, chunkGraph, compilation)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcompilation.hooks.contentHash.tap(\"CssModulesPlugin\", chunk => {\n\t\t\t\t\tconst {\n\t\t\t\t\t\tchunkGraph,\n\t\t\t\t\t\toutputOptions: {\n\t\t\t\t\t\t\thashSalt,\n\t\t\t\t\t\t\thashDigest,\n\t\t\t\t\t\t\thashDigestLength,\n\t\t\t\t\t\t\thashFunction\n\t\t\t\t\t\t}\n\t\t\t\t\t} = compilation;\n\t\t\t\t\tconst modules = orderedCssModulesPerChunk.get(chunk);\n\t\t\t\t\tif (modules === undefined) return;\n\t\t\t\t\tconst hash = createHash(hashFunction);\n\t\t\t\t\tif (hashSalt) hash.update(hashSalt);\n\t\t\t\t\tfor (const module of modules) {\n\t\t\t\t\t\thash.update(chunkGraph.getModuleHash(module, chunk.runtime));\n\t\t\t\t\t}\n\t\t\t\t\tconst digest = /** @type {string} */ (hash.digest(hashDigest));\n\t\t\t\t\tchunk.contentHash.css = nonNumericOnlyHash(digest, hashDigestLength);\n\t\t\t\t});\n\t\t\t\tcompilation.hooks.renderManifest.tap(plugin, (result, options) => {\n\t\t\t\t\tconst { chunkGraph } = compilation;\n\t\t\t\t\tconst { hash, chunk, codeGenerationResults } = options;\n\n\t\t\t\t\tif (chunk instanceof HotUpdateChunk) return result;\n\n\t\t\t\t\tconst modules = orderedCssModulesPerChunk.get(chunk);\n\t\t\t\t\tif (modules !== undefined) {\n\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\trender: () =>\n\t\t\t\t\t\t\t\tthis.renderChunk({\n\t\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\tchunkGraph,\n\t\t\t\t\t\t\t\t\tcodeGenerationResults,\n\t\t\t\t\t\t\t\t\tuniqueName: compilation.outputOptions.uniqueName,\n\t\t\t\t\t\t\t\t\tmodules\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tfilenameTemplate: CssModulesPlugin.getChunkFilenameTemplate(\n\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\tcompilation.outputOptions\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tpathOptions: {\n\t\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t\truntime: chunk.runtime,\n\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\tcontentHashType: \"css\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tidentifier: `css${chunk.id}`,\n\t\t\t\t\t\t\thash: chunk.contentHash.css\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t});\n\t\t\t\tconst enabledChunks = new WeakSet();\n\t\t\t\tconst handler = (chunk, set) => {\n\t\t\t\t\tif (enabledChunks.has(chunk)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tenabledChunks.add(chunk);\n\n\t\t\t\t\tset.add(RuntimeGlobals.publicPath);\n\t\t\t\t\tset.add(RuntimeGlobals.getChunkCssFilename);\n\t\t\t\t\tset.add(RuntimeGlobals.hasOwnProperty);\n\t\t\t\t\tset.add(RuntimeGlobals.moduleFactoriesAddOnly);\n\t\t\t\t\tset.add(RuntimeGlobals.makeNamespaceObject);\n\n\t\t\t\t\tconst CssLoadingRuntimeModule = getCssLoadingRuntimeModule();\n\t\t\t\t\tcompilation.addRuntimeModule(chunk, new CssLoadingRuntimeModule(set));\n\t\t\t\t};\n\t\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t\t.for(RuntimeGlobals.hasCssModules)\n\t\t\t\t\t.tap(plugin, handler);\n\t\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t\t.for(RuntimeGlobals.ensureChunkHandlers)\n\t\t\t\t\t.tap(plugin, handler);\n\t\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t\t.for(RuntimeGlobals.hmrDownloadUpdateHandlers)\n\t\t\t\t\t.tap(plugin, handler);\n\t\t\t}\n\t\t);\n\t}\n\n\tgetModulesInOrder(chunk, modules, compilation) {\n\t\tif (!modules) return [];\n\n\t\tconst modulesList = [...modules];\n\n\t\t// Get ordered list of modules per chunk group\n\t\t// Lists are in reverse order to allow to use Array.pop()\n\t\tconst modulesByChunkGroup = Array.from(chunk.groupsIterable, chunkGroup => {\n\t\t\tconst sortedModules = modulesList\n\t\t\t\t.map(module => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmodule,\n\t\t\t\t\t\tindex: chunkGroup.getModulePostOrderIndex(module)\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.filter(item => item.index !== undefined)\n\t\t\t\t.sort((a, b) => b.index - a.index)\n\t\t\t\t.map(item => item.module);\n\n\t\t\treturn { list: sortedModules, set: new Set(sortedModules) };\n\t\t});\n\n\t\tif (modulesByChunkGroup.length === 1)\n\t\t\treturn modulesByChunkGroup[0].list.reverse();\n\n\t\tconst compareModuleLists = ({ list: a }, { list: b }) => {\n\t\t\tif (a.length === 0) {\n\t\t\t\treturn b.length === 0 ? 0 : 1;\n\t\t\t} else {\n\t\t\t\tif (b.length === 0) return -1;\n\t\t\t\treturn compareModulesByIdentifier(a[a.length - 1], b[b.length - 1]);\n\t\t\t}\n\t\t};\n\n\t\tmodulesByChunkGroup.sort(compareModuleLists);\n\n\t\tconst finalModules = [];\n\n\t\tfor (;;) {\n\t\t\tconst failedModules = new Set();\n\t\t\tconst list = modulesByChunkGroup[0].list;\n\t\t\tif (list.length === 0) {\n\t\t\t\t// done, everything empty\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tlet selectedModule = list[list.length - 1];\n\t\t\tlet hasFailed = undefined;\n\t\t\touter: for (;;) {\n\t\t\t\tfor (const { list, set } of modulesByChunkGroup) {\n\t\t\t\t\tif (list.length === 0) continue;\n\t\t\t\t\tconst lastModule = list[list.length - 1];\n\t\t\t\t\tif (lastModule === selectedModule) continue;\n\t\t\t\t\tif (!set.has(selectedModule)) continue;\n\t\t\t\t\tfailedModules.add(selectedModule);\n\t\t\t\t\tif (failedModules.has(lastModule)) {\n\t\t\t\t\t\t// There is a conflict, try other alternatives\n\t\t\t\t\t\thasFailed = lastModule;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tselectedModule = lastModule;\n\t\t\t\t\thasFailed = false;\n\t\t\t\t\tcontinue outer; // restart\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (hasFailed) {\n\t\t\t\t// There is a not resolve-able conflict with the selectedModule\n\t\t\t\tif (compilation) {\n\t\t\t\t\t// TODO print better warning\n\t\t\t\t\tcompilation.warnings.push(\n\t\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\t`chunk ${\n\t\t\t\t\t\t\t\tchunk.name || chunk.id\n\t\t\t\t\t\t\t}\\nConflicting order between ${hasFailed.readableIdentifier(\n\t\t\t\t\t\t\t\tcompilation.requestShortener\n\t\t\t\t\t\t\t)} and ${selectedModule.readableIdentifier(\n\t\t\t\t\t\t\t\tcompilation.requestShortener\n\t\t\t\t\t\t\t)}`\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tselectedModule = hasFailed;\n\t\t\t}\n\t\t\t// Insert the selected module into the final modules list\n\t\t\tfinalModules.push(selectedModule);\n\t\t\t// Remove the selected module from all lists\n\t\t\tfor (const { list, set } of modulesByChunkGroup) {\n\t\t\t\tconst lastModule = list[list.length - 1];\n\t\t\t\tif (lastModule === selectedModule) list.pop();\n\t\t\t\telse if (hasFailed && set.has(selectedModule)) {\n\t\t\t\t\tconst idx = list.indexOf(selectedModule);\n\t\t\t\t\tif (idx >= 0) list.splice(idx, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tmodulesByChunkGroup.sort(compareModuleLists);\n\t\t}\n\t\treturn finalModules;\n\t}\n\n\tgetOrderedChunkCssModules(chunk, chunkGraph, compilation) {\n\t\treturn [\n\t\t\t...this.getModulesInOrder(\n\t\t\t\tchunk,\n\t\t\t\tchunkGraph.getOrderedChunkModulesIterableBySourceType(\n\t\t\t\t\tchunk,\n\t\t\t\t\t\"css-import\",\n\t\t\t\t\tcompareModulesByIdentifier\n\t\t\t\t),\n\t\t\t\tcompilation\n\t\t\t),\n\t\t\t...this.getModulesInOrder(\n\t\t\t\tchunk,\n\t\t\t\tchunkGraph.getOrderedChunkModulesIterableBySourceType(\n\t\t\t\t\tchunk,\n\t\t\t\t\t\"css\",\n\t\t\t\t\tcompareModulesByIdentifier\n\t\t\t\t),\n\t\t\t\tcompilation\n\t\t\t)\n\t\t];\n\t}\n\n\trenderChunk({\n\t\tuniqueName,\n\t\tchunk,\n\t\tchunkGraph,\n\t\tcodeGenerationResults,\n\t\tmodules\n\t}) {\n\t\tconst source = new ConcatSource();\n\t\tconst metaData = [];\n\t\tfor (const module of modules) {\n\t\t\ttry {\n\t\t\t\tconst codeGenResult = codeGenerationResults.get(module, chunk.runtime);\n\n\t\t\t\tconst s =\n\t\t\t\t\tcodeGenResult.sources.get(\"css\") ||\n\t\t\t\t\tcodeGenResult.sources.get(\"css-import\");\n\t\t\t\tif (s) {\n\t\t\t\t\tsource.add(s);\n\t\t\t\t\tsource.add(\"\\n\");\n\t\t\t\t}\n\t\t\t\tconst exports =\n\t\t\t\t\tcodeGenResult.data && codeGenResult.data.get(\"css-exports\");\n\t\t\t\tconst moduleId = chunkGraph.getModuleId(module) + \"\";\n\t\t\t\tmetaData.push(\n\t\t\t\t\t`${\n\t\t\t\t\t\texports\n\t\t\t\t\t\t\t? Array.from(exports, ([n, v]) => {\n\t\t\t\t\t\t\t\t\tconst shortcutValue = `${\n\t\t\t\t\t\t\t\t\t\tuniqueName ? uniqueName + \"-\" : \"\"\n\t\t\t\t\t\t\t\t\t}${moduleId}-${n}`;\n\t\t\t\t\t\t\t\t\treturn v === shortcutValue\n\t\t\t\t\t\t\t\t\t\t? `${escapeCss(n)}/`\n\t\t\t\t\t\t\t\t\t\t: v === \"--\" + shortcutValue\n\t\t\t\t\t\t\t\t\t\t? `${escapeCss(n)}%`\n\t\t\t\t\t\t\t\t\t\t: `${escapeCss(n)}(${escapeCss(v)})`;\n\t\t\t\t\t\t\t  }).join(\"\")\n\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t}${escapeCss(moduleId)}`\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\te.message += `\\nduring rendering of css ${module.identifier()}`;\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t\tsource.add(\n\t\t\t`head{--webpack-${escapeCss(\n\t\t\t\t(uniqueName ? uniqueName + \"-\" : \"\") + chunk.id,\n\t\t\t\ttrue\n\t\t\t)}:${metaData.join(\",\")};}`\n\t\t);\n\t\treturn source;\n\t}\n\n\tstatic getChunkFilenameTemplate(chunk, outputOptions) {\n\t\tif (chunk.cssFilenameTemplate) {\n\t\t\treturn chunk.cssFilenameTemplate;\n\t\t} else if (chunk.canBeInitial()) {\n\t\t\treturn outputOptions.cssFilename;\n\t\t} else {\n\t\t\treturn outputOptions.cssChunkFilename;\n\t\t}\n\t}\n\n\tstatic chunkHasCss(chunk, chunkGraph) {\n\t\treturn (\n\t\t\t!!chunkGraph.getChunkModulesIterableBySourceType(chunk, \"css\") ||\n\t\t\t!!chunkGraph.getChunkModulesIterableBySourceType(chunk, \"css-import\")\n\t\t);\n\t}\n}\n\nmodule.exports = CssModulesPlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}